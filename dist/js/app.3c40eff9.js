(function(t){function e(e){for(var s,n,o=e[0],l=e[1],c=e[2],u=0,p=[];u<o.length;u++)n=o[u],r[n]&&p.push(r[n][0]),r[n]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(t[s]=l[s]);d&&d(e);while(p.length)p.shift()();return i.push.apply(i,c||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],s=!0,o=1;o<a.length;o++){var l=a[o];0!==r[l]&&(s=!1)}s&&(i.splice(e--,1),t=n(n.s=a[0]))}return t}var s={},r={app:0},i=[];function n(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=t,n.c=s,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)n.d(a,s,function(e){return t[e]}.bind(null,s));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var d=l;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";var s=a("fac2"),r=a.n(s);r.a},1:function(t,e){},"16c0":function(t,e,a){"use strict";var s=a("8499"),r=a.n(s);r.a},"1f8b":function(t,e,a){"use strict";var s=a("8cbf"),r=a.n(s);r.a},2:function(t,e){},"223a":function(t,e,a){"use strict";var s=a("d80e"),r=a.n(s);r.a},"2fe3":function(t,e,a){"use strict";var s=a("dfd9"),r=a.n(s);r.a},3:function(t,e){},4:function(t,e){},"476d":function(t,e,a){t.exports=a.p+"img/stamp.412549e3.png"},4828:function(t,e,a){},"4cf2":function(t,e,a){},"4fca":function(t,e,a){"use strict";var s=a("a764"),r=a.n(s);r.a},5:function(t,e){},"530c":function(t,e,a){t.exports=a.p+"img/unimedth.da7c3319.png"},5506:function(t,e){function a(t){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}a.keys=function(){return[]},a.resolve=a,t.exports=a,a.id="5506"},"56d7":function(t,e,a){"use strict";a.r(e);a("28a5"),a("6b54"),a("a481"),a("cadf"),a("551c"),a("f751"),a("097d");var s=a("2b0e"),r=(a("d1e7"),a("bb71"));a("da64");s["a"].use(r["a"],{iconfont:"md"});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},n=[],o={},l=o,d=(a("034f"),a("2877")),u=Object(d["a"])(l,i,n,!1,null,null,null),p=u.exports,v=a("8c4f");function m(t){var e=t.next,a=t.router;return localStorage.getItem("me")?e():a.push({name:"login"})}function f(t){var e=t.next;t.to;return e()}var h=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-app",{attrs:{id:"inspire"}},[s("v-navigation-drawer",{attrs:{clipped:t.$vuetify.breakpoint.lgAndUp,fixed:"",app:"","hide-overlay":"",stateless:"",temporary:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[s("v-toolbar",{staticClass:"transparent",attrs:{flat:""},on:{click:function(e){e.stopPropagation(),t.drawer=!1}}},[s("v-list",{staticClass:"pa-0"},[s("v-list-tile",{attrs:{avatar:""}},[s("v-list-tile-avatar",[s("img",{attrs:{src:a("530c")}})]),s("v-list-tile-content",[s("v-list-tile-title",[t._v(t._s(t.outlet.ministry_name))])],1)],1)],1)],1),s("v-divider"),s("v-list",{attrs:{dense:""},on:{click:function(e){e.stopPropagation(),t.drawer=!1}}},[t._l(t.items,function(e){return[e.divider?s("v-layout",{key:e.heading,attrs:{row:"","align-center":""}},[s("v-flex",{attrs:{xs12:""}},[s("v-divider")],1)],1):e.children?s("v-list-group",{key:e.text,attrs:{"prepend-icon":e.model?e.icon:e["icon-alt"],"append-icon":""},scopedSlots:t._u([{key:"activator",fn:function(){return[s("v-list-tile",[s("v-list-tile-content",[s("v-list-tile-title",[t._v("\n                  "+t._s(e.text)+"\n                ")])],1)],1)]},proxy:!0}],null,!0),model:{value:e.model,callback:function(a){t.$set(e,"model",a)},expression:"item.model"}},t._l(e.children,function(e,a){return s("v-list-tile",{key:a,attrs:{to:e.url}},[e.icon?s("v-list-tile-action",[s("v-icon",[t._v(t._s(e.icon))])],1):t._e(),s("v-list-tile-content",[s("v-list-tile-title",[t._v("\n                "+t._s(e.text)+"\n              ")])],1)],1)}),1):s("v-list-tile",{key:e.text,attrs:{to:e.url}},[s("v-list-tile-action",[s("v-icon",[t._v(t._s(e.icon))])],1),s("v-list-tile-content",[s("v-list-tile-title",[t._v("\n              "+t._s(e.text)+"\n            ")])],1)],1)]})],2)],1),s("v-toolbar",{staticClass:"no-print",attrs:{"clipped-left":t.$vuetify.breakpoint.lgAndUp,color:"blue darken-3",dark:"",app:"",fixed:""},on:{click:function(e){e.stopPropagation(),t.drawer=!1}}},[s("v-toolbar-title",{staticClass:"ml-0 pl-3",staticStyle:{width:"400px"}},[s("v-toolbar-side-icon",{on:{click:function(e){e.stopPropagation(),t.drawer=!t.drawer}}}),s("span",{staticClass:"hidden-sm-and-down"},[t._v(t._s(t.outlet.outlet))])],1),s("v-spacer"),s("Network",{staticClass:"floatedContent",on:{checkConnectivity:t.handleConnectivityChange}}),t.status?s("v-btn",{attrs:{icon:"",title:"Currently connected"}},[s("v-icon",[t._v("router")])],1):t._e(),t.status?t._e():s("v-btn",{staticClass:"red",attrs:{icon:"",title:"No internet"}},[s("v-icon",[t._v("not_interested")])],1),t.status?s("v-btn",{attrs:{icon:"",title:"Update app"},on:{click:t.updateApp}},[s("v-icon",[t._v("cloud_download")])],1):t._e(),s("v-btn",{attrs:{icon:"",title:"Go to dashboard"},on:{click:function(e){return t.$router.push("/home")}}},[s("v-icon",[t._v("apps")])],1),s("v-btn",{attrs:{icon:"",title:"Go to report"},on:{click:function(e){return t.$router.push("/report")}}},[s("v-icon",[t._v("bar_chart")])],1),s("v-btn",{attrs:{icon:"",title:"Price book"},on:{click:t.priceList}},[s("v-icon",[t._v("book")])],1),s("v-btn",{attrs:{icon:"",title:"Notification"}},[s("v-icon",[t._v("notifications")])],1),s("v-btn",{attrs:{icon:"",title:"Logout"},on:{click:t.logout}},[s("v-icon",[t._v("power_off")])],1),s("v-btn",{attrs:{icon:"",large:""}},[s("v-avatar",{attrs:{size:"32px",tile:""}},[s("img",{attrs:{src:a("c121"),alt:"Adewumi Adedeji"}})])],1)],1),s("v-content",{on:{click:function(e){e.stopPropagation(),t.drawer=!t.drawer}}},[s("v-container",{attrs:{fluid:"","fill-height":"","grid-list-md":""}},[s("v-layout",{attrs:{"justify-left":"","align-left":""},on:{click:function(e){e.stopPropagation(),t.drawer=!1}}},[s("router-view",{staticClass:"inner-container"})],1)],1)],1)],1)},g=[],b=a("f499"),y=a.n(b),x=a("cebc"),_=a("bc3a"),w=a.n(_),C=(a("05fb"),a("88b4")),k=a.n(C),S="http://localhost/revenue/api",D=new k.a({encodingType:"aes",isCompression:!0,encryptionSecret:"wjehfufjir"}),V=function(t){var e=8,a=0;function s(t,e){var a=(65535&t)+(65535&e),s=(t>>16)+(e>>16)+(a>>16);return s<<16|65535&a}function r(t,e){return t>>>e|t<<32-e}function i(t,e){return t>>>e}function n(t,e,a){return t&e^~t&a}function o(t,e,a){return t&e^t&a^e&a}function l(t){return r(t,2)^r(t,13)^r(t,22)}function c(t){return r(t,6)^r(t,11)^r(t,25)}function d(t){return r(t,7)^r(t,18)^i(t,3)}function u(t){return r(t,17)^r(t,19)^i(t,10)}function p(t,e){var a,r,i,p,v,m,f,h,g,b,y=new Array(1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298),x=new Array(1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225),_=new Array(64);t[e>>5]|=128<<24-e%32,t[15+(e+64>>9<<4)]=e;for(var w=0;w<t.length;w+=16){a=x[0],r=x[1],i=x[2],p=x[3],v=x[4],m=x[5],f=x[6],h=x[7];for(var C=0;C<64;C++)_[C]=C<16?t[C+w]:s(s(s(u(_[C-2]),_[C-7]),d(_[C-15])),_[C-16]),g=s(s(s(s(h,c(v)),n(v,m,f)),y[C]),_[C]),b=s(l(a),o(a,r,i)),h=f,f=m,m=v,v=s(p,g),p=i,i=r,r=a,a=s(g,b);x[0]=s(a,x[0]),x[1]=s(r,x[1]),x[2]=s(i,x[2]),x[3]=s(p,x[3]),x[4]=s(v,x[4]),x[5]=s(m,x[5]),x[6]=s(f,x[6]),x[7]=s(h,x[7])}return x}function v(t){for(var a=Array(),s=(1<<e)-1,r=0;r<t.length*e;r+=e)a[r>>5]|=(t.charCodeAt(r/e)&s)<<24-r%32;return a}function m(t){t=t.replace(/\r\n/g,"\n");for(var e="",a=0;a<t.length;a++){var s=t.charCodeAt(a);s<128?e+=String.fromCharCode(s):s>127&&s<2048?(e+=String.fromCharCode(s>>6|192),e+=String.fromCharCode(63&s|128)):(e+=String.fromCharCode(s>>12|224),e+=String.fromCharCode(s>>6&63|128),e+=String.fromCharCode(63&s|128))}return e}function f(t){for(var e=a?"0123456789ABCDEF":"0123456789abcdef",s="",r=0;r<4*t.length;r++)s+=e.charAt(t[r>>2]>>8*(3-r%4)+4&15)+e.charAt(t[r>>2]>>8*(3-r%4)&15);return s}return t=m(t),f(p(v(t),t.length*e))},P=function(){var t=8,e=+new Date;function a(t,e){return Math.floor(Math.random()*(e-t+1))+t}function s(){for(var s=e.toString(),r=s.split("").reverse(),i="",n=0;n<t;++n){var o=a(0,r.length-1);i+=r[o]}return i}return s()},j=a("2f62"),T=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-layout",{attrs:{row:"",wrap:""}},[a("transition",{attrs:{name:"fade"}},[t.isOnline?t._e():a("v-flex",{staticClass:"offline",attrs:{xs12:""}},[a("strong",[t._v("Offline mode.")]),t._v(" No active internet connection. Keep working\n          ")])],1)],1)],1)},O=[],A=window.require("dns"),$={name:"PrintReceipt",data:function(){return{domain:"check-connection",disapear:!0,isOnline:!1}},methods:{checkConnectivity:function(){var t=this;A.lookup("unimedth.com",function(e,a){t.isOnline=null==e})}},mounted:function(){var t=this;setInterval(function(){t.checkConnectivity(),t.$emit("checkConnectivity",{status:t.isOnline})},5e3)}},B=$,F=(a("dfa9"),a("6544")),I=a.n(F),R=a("0e8f"),M=a("a722"),q=Object(d["a"])(B,T,O,!1,null,null,null),N=q.exports;I()(q,{VFlex:R["a"],VLayout:M["a"]});var L=window.require("os"),E={data:function(){return{dialog:!1,drawer:null,status:!1,showNotification:!0,syncUpdate:!0,startSync:0,items:[{icon:"home",text:"Dashboard",url:"/home",target:"in"},{icon:"calendar_today",text:"Billing",url:"/billing",target:"in"},{icon:"healing",text:"Requisition",url:"/requisition",target:"in"},{divider:"divider"},{icon:"bar_chart",text:"Reports",url:"/report",target:"in"},{icon:"book",text:"Price book",url:"/price-list",target:"in"},{divider:"divider"},{icon:"person",text:"User profile",url:"/user-profile",target:"in"},{divider:"divider"},{icon:"chat_bubble",text:"Send feedback",url:"",target:"out"},{icon:"help",text:"Help",url:"",target:"out"},{icon:"phonelink",text:"App downloads",url:"",target:"out"},{icon:"keyboard",text:"Go to the old version",url:"",target:"out"}]}},components:{Network:N},computed:Object(x["a"])({},Object(j["c"])(["outlet","domain","cart"])),props:{source:String},methods:Object(x["a"])({},Object(j["b"])(["addCart","setCart","addProduct","getDomain","unSyncCart","updateCarts","checkStorage","saveStorage"]),{handleConnectivityChange:function(t){t&&(this.status=t.status)},logout:function(){this.updateApp(),D.remove("user"),this.$router.push("/login")},updateApp:function(){var t=this;if(this.status){alert("Updating app... Please hold on");var e={key:"update",outlet:this.outlet,carts:this.cart};console.log(y()(e)),w.a.post(this.domain+"/sync",e).then(function(e){console.log(e.data),e.data.status>0&&(t.setCart(e.data.response.carts),alert("Payments synchronized successfully. Please wait ..."))}).catch(function(t){}),e={key:"app",outlet:this.outlet,user:D.get("user")},w.a.post(this.domain+"/postSync",e).then(function(e){e.data.status>0&&(t.addProduct(e.data.response.product),alert("Update completeed successfully. Your records uploaded."))}).catch(function(t){})}else alert("No internet connection. Please connect and try again.")},autoSync:function(){var t=this;if(this.syncUpdate)setInterval(function(){t.syncData()},3e5)},syncData:function(){var t=this,e={outlet:this.outlet,carts:this.unsyncCart};this.status&&this.unSyncCart.length>0&&w.a.post(this.domain+"/sync",e).then(function(e){if(e.data.status>0){var a=e.data.response.cart;if(a)for(var s=0;s<a.length;s++)t.updateCarts(a[s])}}).catch(function(t){console.log(t)})},priceList:function(){this.$router.push("/price-list")}}),mounted:function(){this.checkStorage(),this.getDomain(),this.autoSync(),this.handleConnectivityChange(null);var t={user:L.userInfo(),address:L.networkInterfaces()};D.set("system",t)}},U=E,W=(a("2fe3"),a("7496")),z=a("8212"),H=a("8336"),Q=a("a523"),Y=a("549c"),K=a("ce7e"),G=a("132d"),J=a("8860"),Z=a("56b0"),X=a("ba95"),tt=a("40fe"),et=a("c954"),at=a("5d23"),st=a("f774"),rt=a("9910"),it=a("71d9"),nt=a("706c"),ot=a("2a7f"),lt=Object(d["a"])(U,h,g,!1,null,null,null),ct=lt.exports;I()(lt,{VApp:W["a"],VAvatar:z["a"],VBtn:H["a"],VContainer:Q["a"],VContent:Y["a"],VDivider:K["a"],VFlex:R["a"],VIcon:G["a"],VLayout:M["a"],VList:J["a"],VListGroup:Z["a"],VListTile:X["a"],VListTileAction:tt["a"],VListTileAvatar:et["a"],VListTileContent:at["a"],VListTileTitle:at["b"],VNavigationDrawer:st["a"],VSpacer:rt["a"],VToolbar:it["a"],VToolbarSideIcon:nt["a"],VToolbarTitle:ot["a"]});var dt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{attrs:{id:"inspire"}},[a("v-content",[a("v-container",{attrs:{fluid:"","fill-height":""}},[a("v-layout",{attrs:{"align-center":"","justify-center":""}},[a("v-flex",{attrs:{xs12:"",sm8:"",md4:""}},[a("v-card",{staticClass:"elevation-12"},[a("v-toolbar",{attrs:{dark:"",color:"primary"}},[a("v-toolbar-title",[t._v("Login")]),a("v-spacer")],1),a("v-card-text",[a("v-form",[a("v-text-field",{attrs:{"prepend-icon":"person",name:"email",label:"Email",type:"text"},model:{value:t.account.email,callback:function(e){t.$set(t.account,"email",e)},expression:"account.email"}}),a("v-text-field",{attrs:{"prepend-icon":"lock",name:"password",label:"Password",type:"password"},model:{value:t.account.password,callback:function(e){t.$set(t.account,"password",e)},expression:"account.password"}})],1)],1),a("v-card-actions",[a("v-btn",{attrs:{danger:"",align:"left"},on:{click:t.loadSetup}},[a("v-icon",[t._v("settings")]),t._v("Configure")],1),a("v-spacer"),a("v-btn",{attrs:{color:"primary"},on:{click:t.doLogin}},[t._v("Login")])],1)],1)],1)],1)],1)],1),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.failed,callback:function(e){t.failed=e},expression:"failed"}},[a("v-card",[a("v-card-title",[t._v("\n        Message\n      ")]),a("v-card-text",[t._v("\n        "+t._s(t.message)+"\n      ")]),a("v-card-actions",{attrs:{"align-right":""}},[a("v-btn",{attrs:{color:"primary",flat:""},on:{click:function(e){t.failed=!1}}},[t._v("Close")])],1)],1)],1),a("v-dialog",{attrs:{"hide-overlay":"",persistent:"",width:"300"},model:{value:t.loadingDialog,callback:function(e){t.loadingDialog=e},expression:"loadingDialog"}},[a("v-card",{attrs:{color:"primary",dark:""}},[a("v-card-text",[t._v("\n        Authenticating you.\n        "),a("v-progress-linear",{staticClass:"mb-0",attrs:{indeterminate:"",color:"white"}})],1)],1)],1)],1)},ut=[],pt=a("5d73"),vt=a.n(pt),mt={data:function(){return{drawer:null,loadingDialog:!1,account:{email:"",password:""},user:[],message:"",failed:!1}},computed:Object(x["a"])({},Object(j["c"])(["outlet","domain","users"])),props:{source:String},methods:Object(x["a"])({},Object(j["b"])(["addUsers","getDomain","checkStorage","saveStorage"]),{loadSetup:function(){this.$router.push("/setup")},getSetup:function(){this.outlet.length},doLogin:function(t){if(t.preventDefault(),this.account.email.length>0&&this.account.password.length>0){var e=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,a="";a=e.test(this.account.email)?this.account.email:this.account.email+"@unimedth.com",this.loadingDialog=!0;var s={outlet:this.outlet,email:a,password:this.account.password};if(this.users.length>0){var r=[],i=!1,n=!0,o=!1,l=void 0;try{for(var c,d=vt()(this.users);!(n=(c=d.next()).done);n=!0){var u=c.value;if(u["email"]==a&&u["password"]==V(this.account.password)){r=u,i=!0;break}}}catch(p){o=!0,l=p}finally{try{n||null==d.return||d.return()}finally{if(o)throw l}}i?(this.loadingDialog=!1,D.set("user",r),this.$router.push("/home")):this.getUser(s)}else this.getUser(s)}},getUser:function(t){var e=this;w.a.post(this.domain+"/login",t).then(function(t){t.data.status>0?(e.addUsers(t.data.response,!0),D.set("user",t.data.response),e.loadingDialog=!1,e.$router.push("/home")):(e.loadingDialog=!1,e.message=t.data.message,e.failed=!0)}).catch(function(t){console.log(t),e.message="Unable to authenticate user. Kindly contact admin for assistance.",e.loadingDialog=!1,e.failed=!0})}}),mounted:function(){this.checkStorage(),this.getDomain(),this.getSetup()}},ft=mt,ht=a("b0af"),gt=a("99d9"),bt=a("12b2"),yt=a("169a"),xt=a("4bd4"),_t=a("8e36"),wt=a("2677"),Ct=Object(d["a"])(ft,dt,ut,!1,null,null,null),kt=Ct.exports;I()(Ct,{VApp:W["a"],VBtn:H["a"],VCard:ht["a"],VCardActions:gt["a"],VCardText:gt["b"],VCardTitle:bt["a"],VContainer:Q["a"],VContent:Y["a"],VDialog:yt["a"],VFlex:R["a"],VForm:xt["a"],VIcon:G["a"],VLayout:M["a"],VProgressLinear:_t["a"],VSpacer:rt["a"],VTextField:wt["a"],VToolbar:it["a"],VToolbarTitle:ot["a"]});var St=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{attrs:{id:"inspire"}},[a("v-layout",[t.isPaid?a("v-layout",{attrs:{row:"",wrap:""}},[a("receipt",{staticStyle:{width:"100%"},on:{closePrinter:t.closeReceipt}})],1):a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs8:""}},[a("v-toolbar",{attrs:{row:""}},[a("v-text-field",{staticClass:"mx-3",attrs:{"append-icon":"search",flat:"",label:"Search","prepend-inner-icon":"search","solo-inverted":""},on:{input:t.searchProduct},model:{value:t.productSearchInput,callback:function(e){t.productSearchInput=e},expression:"productSearchInput"}})],1),a("v-layout",{staticStyle:{"text-align":"center"},attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},t._l(t.tab,function(e,s){return a("v-btn",{key:s,attrs:{flat:""},on:{click:function(a){return t.pushRightItem(e)}}},[t._v(t._s(e))])}),1)],1),a("div",{staticClass:"portlet light"},[a("div",{staticClass:"portlet-body"},[a("div",{staticClass:"panel light",staticStyle:{height:"580px"}},[a("div",{staticClass:"cart-panel list-group scroller",staticStyle:{height:"590px !important"},attrs:{visible:1}},[a("v-layout",{attrs:{row:"",wrap:""}},t._l(t.productsFilter,function(e,s){return a("v-flex",{key:s,class:{disable:!t.isSalesOpen},on:{click:function(a){return t.addProduct(e)}}},[a("v-card",{staticClass:"thumbnail"},[a("v-flex",{attrs:{xs12:"","align-end":"",flexbox:""}},[a("div",{staticClass:"titles"},[t._v("\n                            "+t._s(e.name)),a("br"),t._v(t._s(e.revType)+"("+t._s(t._f("toDecimal")(e.amount))+")\n                          ")])]),a("div",{staticClass:"highlight",class:e.color})],1)],1)}),1)],1)])])])],1),a("v-flex",{attrs:{xs4:""}},[a("v-card",[t.carts.billed?t._e():a("span",{attrs:{right:""}},[a("v-btn",{staticClass:"blue",attrs:{flat:"",disabled:!t.carts.items.length>0},on:{click:function(e){return t.addBill(t.carts.id)}}},[t._v("Attach billing")])],1),t.carts.billed?a("span",{attrs:{right:""}},[a("v-btn",{staticClass:"red",attrs:{flat:""},on:{click:function(e){return t.removeBill(t.carts.id)}}},[t._v("Remove billing")])],1):t._e(),t.carts.customer.name?t._e():a("span",{staticStyle:{display:"none"},attrs:{right:""}},[a("v-btn",{staticClass:"blue",attrs:{flat:""},on:{click:function(e){return t.addCustomer(t.carts.id)}}},[t._v("Add Customer")])],1),a("v-toolbar",[a("v-toolbar-title",[t._v("CHECKOUT")]),a("v-spacer"),t.carts.customer.name?a("span",{attrs:{right:""}},[a("v-btn",{attrs:{flat:""},on:{click:function(e){return t.addCustomer(t.carts.id)}}},[t._v(t._s(t.carts.customer.name))])],1):t._e()],1)],1),a("div",{staticClass:"portlet light"},[a("div",{staticClass:"portlet-body"},[a("div",{staticClass:"panel light"},[a("div",{staticClass:"cart-panel list-group scroller",attrs:{visible:1}},t._l(t.cartItem,function(e,s){return a("carts",{key:e.id,attrs:{cartIndex:s,cart:e},on:{updateCartQty:t.updateQty,deleteCartItem:t.deleteItem,updateCartDiscount:t.updateDiscount}})}),1),a("div",{staticClass:"panel-footer"},[a("table",{staticClass:"table table-hover",attrs:{cellpadding:"5px",cellspacing:"5px"}},[a("tbody",[a("tr",[a("td",{attrs:{colspan:"2"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.carts.remark,expression:"carts.remark"}],staticClass:"form-control",attrs:{type:"text",name:"remarks",placeholder:"Add your remark"},domProps:{value:t.carts.remark},on:{input:function(e){e.target.composing||t.$set(t.carts,"remark",e.target.value)}}})])]),a("tr",[a("td",{staticStyle:{width:"90%"}},[a("span",[t._v("Sub-Total")])]),a("td",{staticStyle:{"text-align":"right"}},[t._v("\n                          ₦"+t._s(t._f("toDecimal")(t.carts.subtotal))+"\n                        ")])]),a("tr",[a("td",{attrs:{colspan:"2"}},[a("v-flex",{attrs:{xs12:"",row:""}},[a("v-flex",{attrs:{xs3:""}},[t._v("Type")]),a("v-flex",{attrs:{xs5:""}},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.carts.type,expression:"carts.type"}],staticClass:"form-control",attrs:{name:"type"},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.$set(t.carts,"type",e.target.multiple?a:a[0])},t.changeType]}},t._l(t.types,function(e){return a("option",{key:e.name,domProps:{value:e.name,selected:e.selected}},[t._v(t._s(e.name))])}),0)]),a("v-flex",{staticClass:"align-right",attrs:{xs4:""}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.carts.percentage,expression:"carts.percentage"}],staticClass:"form-control",attrs:{type:"text",name:"percentage",placeholder:"100%",disabled:!t.disable_option},domProps:{value:t.carts.percentage},on:{input:[function(e){e.target.composing||t.$set(t.carts,"percentage",e.target.value)},t.updateTotPercentage]}})])],1)],1)]),a("tr",[a("td",{staticStyle:{width:"90%"}},[a("v-flex",{attrs:{xs12:"",row:""}},[a("v-flex",{attrs:{xs3:""}},[t._v("Discount")]),a("v-flex",{attrs:{xs7:""}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.carts.overallDiscount,expression:"carts.overallDiscount"}],staticClass:"form-control",attrs:{type:"text",name:"discount",placeholder:"Discount",disabled:!t.waver_lock&&1==t.outlet.waver_lock},domProps:{value:t.carts.overallDiscount},on:{input:[function(e){e.target.composing||t.$set(t.carts,"overallDiscount",e.target.value)},t.updateTotDiscount]}})]),t.waver_lock||1!=t.outlet.waver_lock?t._e():a("v-flex",{attrs:{xs2:""}},[a("v-icon",{attrs:{color:"red"},on:{click:t.openWaver}},[t._v("lock")])],1),t.waver_lock?a("v-flex",{attrs:{xs2:""}},[a("v-icon",{attrs:{color:"blue"},on:{click:t.openWaver}},[t._v("lock_open")])],1):t._e()],1)],1),a("td",{staticStyle:{"text-align":"right"}},[t._v("\n                          ₦"+t._s(t._f("toDecimal")(t.carts.discount))+"\n                        ")])]),a("tr",[a("td",{staticStyle:{width:"90%"}},[a("span",[t._v("VAT")])]),a("td",{staticStyle:{"text-align":"right"}},[t._v("\n                          ₦"+t._s(t._f("toDecimal")(t.carts.vat))+"\n                        ")])])])])])]),t.isPaid?t._e():a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-9 btn-group pull-left",attrs:{"data-disabled-element":"!carts.code"}},[a("button",{staticClass:"btn blue btn-lg col-md-12 pay-button",staticStyle:{"font-size":"18px"},attrs:{type:"button",disabled:!t.isCartNotEmpty},on:{click:t.makePayment}},[a("span",{staticClass:"col-md-3",staticStyle:{"text-align":"left !important"}},[t._v("Paynow ")]),a("span",{staticClass:"col-md-9 amount",staticStyle:{"text-align":"right !important"}},[t._v("₦ "+t._s(t._f("toDecimal")(t.carts.total))+"\n                    ")])])]),a("div",{staticClass:"col-md-3 btn-group "},[a("button",{staticClass:"btn red btn-lg col-md-12 pay-button",attrs:{type:"button"},on:{click:t.emptyCart}},[t._v("Empty ")])])]),t.isPaid?a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-10 btn-group pull-left",attrs:{disabled:!t.carts.code,id:"print-receipt"}},[a("button",{staticClass:"btn blue col-md-12",staticStyle:{width:"80%",height:"50px","font-weight":"bold","text-align":"left"},attrs:{type:"button"},on:{click:function(e){return t.prints()}}},[t._v("\n                    Print Receipt "),a("span",{staticClass:"icon-print"})])]),a("div",{staticClass:"col-md-2",attrs:{"data-disabled-element":"!carts.code"}},[a("button",{staticClass:"btn red pull-right",staticStyle:{height:"50px"},attrs:{type:"button"},on:{click:function(e){return t.clear()}}},[t._v("\n                    Clear Cart "),a("span",{staticClass:"icon-cancel"})])])]):t._e()])])],1)],1)],1),a("v-dialog",{attrs:{width:"600px"},model:{value:t.customer_dialog,callback:function(e){t.customer_dialog=e},expression:"customer_dialog"}},[a("v-card",[a("v-card-title",{staticClass:"grey lighten-4 py-4 title"},[t._v("\n          Add new customer\n        ")]),a("v-container",{staticClass:"pa-4",attrs:{"grid-list-sm":""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs8:""}},[a("v-layout",{attrs:{"align-center":""}},[a("v-text-field",{attrs:{"prepend-icon":"person",placeholder:"Name"},model:{value:t.carts.customer.name,callback:function(e){t.$set(t.carts.customer,"name",e)},expression:"carts.customer.name"}})],1)],1),a("v-flex",{attrs:{xs4:""}},[a("v-layout",{attrs:{"align-center":""}},[a("v-text-field",{attrs:{"prepend-icon":"book",placeholder:"File no"},model:{value:t.carts.customer.file,callback:function(e){t.$set(t.carts.customer,"file",e)},expression:"carts.customer.file"}})],1)],1),a("v-flex",{attrs:{xs6:"","align-center":"","justify-space-between":""}},[a("v-layout",{attrs:{"align-center":""}},[a("v-avatar",{staticClass:"mr-3",attrs:{size:"40px"}},[a("v-icon",[t._v("person")])],1),a("v-select",{attrs:{items:["Male","Female"],label:"Gender"},model:{value:t.carts.customer.sex,callback:function(e){t.$set(t.carts.customer,"sex",e)},expression:"carts.customer.sex"}})],1)],1),a("v-flex",{attrs:{xs6:"","align-center":"","justify-space-between":""}},[a("v-layout",{attrs:{"align-center":""}},[a("v-avatar",{staticClass:"mr-3",attrs:{size:"40px"}},[a("v-icon",[t._v("person")])],1),a("v-select",{attrs:{items:["Single","Married","Widow","Widower"],label:"Marital status"},model:{value:t.carts.customer.mstatus,callback:function(e){t.$set(t.carts.customer,"mstatus",e)},expression:"carts.customer.mstatus"}})],1)],1),a("v-flex",{attrs:{xs6:"","align-center":"","justify-space-between":""}},[a("v-dialog",{ref:"dialog",attrs:{"return-value":t.date,persistent:"",lazy:"","full-width":"",width:"290px"},on:{"update:returnValue":function(e){t.date=e},"update:return-value":function(e){t.date=e}},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-text-field",t._g({attrs:{label:"DOB","prepend-icon":"event",readonly:""},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}},s))]}}]),model:{value:t.modal,callback:function(e){t.modal=e},expression:"modal"}},[a("v-date-picker",{attrs:{scrollable:""},model:{value:t.carts.customer.dob,callback:function(e){t.$set(t.carts.customer,"dob",e)},expression:"carts.customer.dob"}},[a("v-spacer"),a("v-btn",{attrs:{flat:"",color:"primary"},on:{click:function(e){t.modal=!1}}},[t._v("Cancel")]),a("v-btn",{attrs:{flat:"",color:"primary"},on:{click:function(e){return t.$refs.dialog.save(t.date)}}},[t._v("OK")])],1)],1)],1),a("v-flex",{attrs:{xs6:"","align-center":"","justify-space-between":""}},[a("v-layout",{attrs:{"align-center":""}},[a("v-text-field",{attrs:{"prepend-icon":"telephone",placeholder:"Phone"},model:{value:t.carts.customer.phone,callback:function(e){t.$set(t.carts.customer,"phone",e)},expression:"carts.customer.phone"}})],1)],1),a("v-flex",{attrs:{xs12:"","align-center":"","justify-space-between":""}},[a("v-layout",{attrs:{"align-center":""}},[a("v-text-field",{attrs:{"prepend-icon":"email",placeholder:"Email"},model:{value:t.carts.customer.email,callback:function(e){t.$set(t.carts.customer,"email",e)},expression:"carts.customer.email"}})],1)],1),a("v-flex",{attrs:{xs12:"","align-center":"","justify-space-between":""}},[a("v-layout",{attrs:{"align-center":""}},[a("v-text-field",{attrs:{"prepend-icon":"location_on",placeholder:"Address"},model:{value:t.carts.customer.address,callback:function(e){t.$set(t.carts.customer,"address",e)},expression:"carts.customer.address"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{flat:"",color:"primary"},on:{click:function(e){t.customer_dialog=!1}}},[t._v("Cancel")]),a("v-btn",{attrs:{flat:""},on:{click:t.saveCusttomer}},[t._v("Save")])],1)],1)],1),a("v-dialog",{attrs:{width:"800px"},model:{value:t.paynow_dialog,callback:function(e){t.paynow_dialog=e},expression:"paynow_dialog"}},[a("v-card",{attrs:{"align-center":""}},[a("v-card-title",{staticClass:"grey lighten-4 py-4 title"},[t._v("\n          Select payment method\n        ")]),a("v-container",{staticClass:"pa-4",attrs:{"grid-list-sm":""}},[a("v-layout",{staticStyle:{"text-align":"center"},attrs:{row:"",wrap:""}},[a("v-card",[a("v-layout",{attrs:{row:"",wrap:""}},t._l(t.paymentmethod,function(e,s){return a("v-flex",{key:s,on:{click:function(a){return t.paynowHandler(e)}}},[a("v-card",{staticClass:"red thumbnail"},[a("v-container",{attrs:{"fill-height":"",fluid:"","pa-2":""}},[a("v-layout",{attrs:{"fill-height":""}},[a("v-flex",{attrs:{xs12:"","align-end":"",flexbox:""}},[a("span",{staticClass:"headline white--text",domProps:{textContent:t._s(e.name)}})])],1)],1)],1)],1)}),1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{flat:"",color:"primary"},on:{click:function(e){t.paynow_dialog=!1}}},[t._v("Cancel")])],1)],1)],1),a("v-dialog",{attrs:{width:"1060px"},model:{value:t.billing_dialog,callback:function(e){t.billing_dialog=e},expression:"billing_dialog"}},[a("v-card",{attrs:{"align-center":""}},[a("v-card-title",{staticClass:"grey lighten-4 py-4 title"},[t._v("\n          Select patient bill\n        ")]),a("v-container",{staticClass:"pa-4",attrs:{"grid-list-sm":""}},[a("v-layout",{staticStyle:{"text-align":"center"},attrs:{row:"",wrap:""}},[a("v-card",{attrs:{xs12:""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.bHeaders,items:t.billings,"item-key":"name"},scopedSlots:t._u([{key:"items",fn:function(e){return[a("tr",[a("td",[t._v(t._s(e.index+1))]),a("td",[t._v(t._s(e.item.code))]),a("td",[t._v(t._s(e.item.name))]),a("td",[t._v(t._s(e.item.file))]),a("td",[t._v(t._s(e.item.dateOfAdmission))]),a("td",[t._v(t._s(t._f("toDecimal")(e.item.total)))]),a("td",[t._v(t._s(e.item.date))]),a("td",[t._v(t._s(e.item.collector))]),a("td",[a("v-btn",{on:{click:function(a){return t.attachCustomerBill(e.item)}}},[t._v("attach bills")])],1)])]}}])})],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{flat:"",color:"primary"},on:{click:function(e){t.billing_dialog=!1}}},[t._v("Cancel")])],1)],1)],1),a("v-dialog",{attrs:{width:"510px"},model:{value:t.billing_pay_dialog,callback:function(e){t.billing_pay_dialog=e},expression:"billing_pay_dialog"}},[a("v-card",{attrs:{"align-center":""}},[a("v-card-title",{staticClass:"grey lighten-4 py-4 title"},[t._v("\n          Are you clearing the patient bills or its still part payment?\n        ")]),a("v-container",{staticClass:"pa-4",attrs:{"grid-list-sm":""}},[a("v-flex",{attrs:{xs12:""}},[a("div",{staticClass:"divcheck"},[a("label",[a("input",{attrs:{type:"radio",checked:""},on:{click:function(e){return t.payBillNow(0)}}}),a("div",{staticClass:" box"},[a("h3",[t._v("Final payment")]),a("hr"),a("span",[t._v("This will clear the bill.")])])]),a("label",[a("input",{attrs:{type:"radio",checked:""},on:{click:function(e){return t.payBillNow(1)}}}),a("div",{staticClass:" box"},[a("h3",[t._v("Part payment")]),a("hr"),a("span",[t._v("The bill will still be opened.")])])])])]),this.carts.part?a("v-flex",{attrs:{xs12:""}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.billAmount,expression:"billAmount"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.billAmount},on:{input:function(e){e.target.composing||(t.billAmount=e.target.value)}}})]):t._e()],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{flat:"",color:"red"},on:{click:function(e){t.billing_pay_dialog=!1}}},[t._v("Close")]),a("v-btn",{attrs:{flat:"",color:"primary"},on:{click:t.continueWithBilling}},[t._v("Continue")])],1)],1)],1),a("v-dialog",{attrs:{width:"400px"},model:{value:t.error_dialog,callback:function(e){t.error_dialog=e},expression:"error_dialog"}},[a("v-card",{attrs:{"align-center":""}},[a("v-card-title",{staticClass:"grey lighten-4 py-4 title"},[t._v("\n          Error message\n        ")]),a("v-container",{staticClass:"pa-4",attrs:{"grid-list-sm":""}},[t._v("\n          "+t._s(t.message)+"\n        ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{flat:"",color:"primary"},on:{click:function(e){t.error_dialog=!1}}},[t._v("Close")])],1)],1)],1),a("v-dialog",{attrs:{width:"400px"},model:{value:t.waver_dialog,callback:function(e){t.waver_dialog=e},expression:"waver_dialog"}},[a("v-card",{attrs:{"align-center":""}},[a("v-card-title",{staticClass:"grey lighten-4 py-4 title"},[t._v("\n          Waver lock\n        ")]),a("v-container",{staticClass:"pa-4",attrs:{"grid-list-sm":""}},[a("v-layout",{attrs:{xs12:"",row:""}},[a("v-flex",{attrs:{xs8:""}},[a("v-form",[a("v-flex",{attrs:{xs12:""}},[a("v-layout",{attrs:{"align-center":""}},[a("v-text-field",{attrs:{"prepend-icon":"person",placeholder:"Username",type:"text"},model:{value:t.waver.username,callback:function(e){t.$set(t.waver,"username",e)},expression:"waver.username"}})],1)],1),a("v-flex",{attrs:{xs12:""}},[a("v-layout",{attrs:{"align-center":""}},[a("v-text-field",{attrs:{"prepend-icon":"lock",placeholder:"Password",type:"password"},model:{value:t.waver.password,callback:function(e){t.$set(t.waver,"password",e)},expression:"waver.password"}})],1)],1)],1)],1),a("v-flex",{staticStyle:{"padding-top":"20px !important"},attrs:{xs3:""}},[a("v-icon",{attrs:{color:"blue",size:"112px"}},[t._v("lock")])],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{flat:"",color:"red"},on:{click:function(e){t.waver_dialog=!1}}},[t._v("Close")]),a("v-btn",{attrs:{flat:"",color:"primary"},on:{click:t.unlockWaver}},[t._v("Unlock")])],1)],1)],1)],1)},Dt=[],Vt=a("59ad"),Pt=a.n(Vt),jt=a("e814"),Tt=a.n(jt),Ot=(a("20d6"),a("7f7f"),a("6762"),a("2fdb"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-layout",{staticClass:"list-group-item",attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:"",row:"",wrap:""}},[a("v-flex",{attrs:{xs11:"",row:"",wrap:""},on:{click:function(e){return t.toggle(e)}}},[a("v-flex",{attrs:{xs3:""}},[a("v-icon",[t._v("keyboard_arrow_right")]),t._v(t._s(t.CartWatcher.qty_sold))],1),a("v-flex",{attrs:{xs6:""}},[t._v(t._s(t._f("truncate")(t.CartWatcher.name))),a("br"),t._v(t._s(t.CartWatcher.detail))]),a("v-flex",{attrs:{xs3:""}},[t._v("₦"+t._s(t._f("toDecimal")(t.CartWatcher.total)))])],1),a("v-flex",{attrs:{xs1:""}},[a("v-btn",{staticClass:"remove",attrs:{flat:""},on:{click:t.deleteCartItem}},[a("v-icon",[t._v("delete_sweep")])],1)],1)],1),a("div",{staticClass:"accordion-toggle collapse",attrs:{id:t.cartIndex}},[a("div",{staticClass:"row col-md-12 col-sm-12"},[a("div",{staticClass:"col-md-3"},[a("label",{staticClass:"control-label"},[t._v("Quantity")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.cart.qty_sold,expression:"cart.qty_sold"}],staticClass:"form-control",attrs:{type:"text",name:"qty"},domProps:{value:t.cart.qty_sold},on:{input:[function(e){e.target.composing||t.$set(t.cart,"qty_sold",e.target.value)},t.updateCartQty],blur:t.resetCartQty}})]),a("div",{staticClass:"col-md-4"},[a("label",{staticClass:"control-label"},[t._v("Price")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.cart.amount,expression:"cart.amount"}],staticClass:"form-control",attrs:{type:"text",name:"price",readonly:""},domProps:{value:t.cart.amount},on:{input:function(e){e.target.composing||t.$set(t.cart,"amount",e.target.value)}}})]),a("div",{staticClass:"col-md-5"},[a("label",{staticClass:"control-label"},[t._v("Discount")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.cart.discount,expression:"cart.discount"}],staticClass:"form-control",attrs:{type:"text",name:"discount"},domProps:{value:t.cart.discount},on:{input:[function(e){e.target.composing||t.$set(t.cart,"discount",e.target.value)},t.updateCartDiscount]}})])]),a("br"),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.cart.remark,expression:"cart.remark"}],staticClass:"form-control",attrs:{type:"text",name:"remark",placeholder:"Add your remark"},domProps:{value:t.cart.remark},on:{input:function(e){e.target.composing||t.$set(t.cart,"remark",e.target.value)}}})])])])],1)],1)}),At=[],$t=(a("c5f6"),{name:"CartComponent",data:function(){return{}},props:{cartIndex:Number,cart:Object},computed:{CartWatcher:function(){return this.cart}},methods:{hasClass:function(t,e){return(" "+t.className+" ").indexOf(" "+e+" ")>-1},toggle:function(t){var e=this,a=document.getElementById(this.cartIndex);this.$el.onclick=function(t){if("INPUT"!==t.target.tagName){var s=e.hasClass(a,"collapse");s?a.classList.remove("collapse"):a.classList.add("collapse")}}},resetCartQty:function(){0!=this.cart.qty_sold&&""!=this.cart.qty_sold||(this.cart.qty_sold=1),this.cart.qty_sold=Tt()(this.cart.qty_sold),this.cart.total=this.cart.qty_sold*this.cart.price,this.$emit("updateCartQty",{index:this.cartIndex})},updateCartQty:function(){""==this.cart.qty_sold&&(this.cart.qty_sold=0),this.cart.qty_sold=Tt()(this.cart.qty_sold),this.cart.total=this.cart.qty_sold*this.cart.price,this.$emit("updateCartQty",{index:this.cartIndex})},updateCartDiscount:function(){""==this.cart.discount&&(this.cart.discount=0),this.cart.total=this.cart.total-this.cart.discount,this.$emit("updateCartDiscount",{index:this.cartIndex})},deleteCartItem:function(){this.$emit("deleteCartItem",{index:this.cartIndex})}},mounted:function(){this.cart.qty_sold=1}}),Bt=$t,Ft=(a("223a"),Object(d["a"])(Bt,Ot,At,!1,null,null,null)),It=Ft.exports;I()(Ft,{VBtn:H["a"],VFlex:R["a"],VIcon:G["a"],VLayout:M["a"]});var Rt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-layout",{attrs:{"align-center":"","justify-center":"",id:"print"}},[a("v-flex",{attrs:{xs12:"",sm8:"",md4:""}},[a("v-card",{staticClass:"elevation-12"},[a("v-toolbar",{staticClass:"no-print",attrs:{dark:"",color:"primary"}},[a("v-toolbar-title",[t._v("Receipt")]),a("v-spacer"),a("v-btn",{staticClass:"btn",on:{click:t.printReceipt}},[a("v-icon",[t._v("local_printshop")]),t._v(" Print now\n              ")],1),a("v-btn",{staticClass:"btn",on:{click:t.closePrinter}},[a("v-icon",[t._v("close")]),t._v(" Close\n              ")],1)],1),a("v-card-text",{staticClass:"shadow"},[a("div",{staticClass:"portlet light",staticStyle:{padding:"0px"}},[a("div",{staticClass:"portlet-body "},[a("div",{staticClass:"receipt "},[a("v-flex",{staticStyle:{"padding-left":"10px"},attrs:{xs12:"",row:"",wrap:""}},[a("v-flex",{staticStyle:{"text-align":"center"},attrs:{xs3:"","align-right":""}},[a("v-btn",{attrs:{icon:"",large:""}},[a("v-avatar",{attrs:{size:"82px",tile:""}},[a("img",{staticClass:"logo",attrs:{src:t.logo,alt:"Rev logo"}})])],1)],1),a("v-flex",{staticClass:"header",staticStyle:{"text-align":"left"},attrs:{xs9:"","align-left":""}},[a("v-flex",{staticClass:"title",attrs:{xs12:""}},[t._v(t._s(t.outlet.outlet))]),""!=t.outlet.location?a("v-flex",{staticClass:"address",staticStyle:{"padding-left":"20px"},attrs:{xs12:""}},[t._v(t._s(t.outlet.location))]):t._e(),""!=t.outlet.phone?a("v-flex",{staticClass:"contact",attrs:{xs12:""}},[t._v(t._s(t.outlet.phone))]):t._e(),a("v-flex",{staticClass:"subtitle",staticStyle:{"padding-left":"35px"},attrs:{xs12:""}},[t._v("Payment Receipt")])],1)],1),a("v-flex",{staticClass:"tag ",staticStyle:{"text-align":"right"},attrs:{xs12:""}},[a("v-flex",{attrs:{xs12:"",cals:"number right"}},[t._v("Date: "+t._s(t.carts.date))]),a("v-flex",{attrs:{xs12:"",cals:"number right"}},[t._v("No: "+t._s(t.carts.code))])],1),a("v-spacer"),a("v-flex",{attrs:{xs12:""}},[a("v-layout",{staticStyle:{"padding-left":"18px","padding-right":"-20px"},attrs:{xs12:"",row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[t._v("Name: "+t._s(t.carts.customer.name))]),a("v-flex",{attrs:{xs6:""}},[t._v("Card No: "+t._s(t.carts.customer.file))]),a("v-flex",{attrs:{xs3:""}},[t._v("DOB: "+t._s(t.carts.customer.dob))]),a("v-flex",{attrs:{xs3:""}},[t._v("Sex: "+t._s(t.carts.customer.gender))])],1)],1),a("v-divider"),a("v-flex",{attrs:{xs12:""}},t._l(t.carts.items,function(e,s){return a("div",{key:s,staticClass:"list-group-item",staticStyle:{"padding-top":"0px","padding-right":"0px","padding-bottom":"0px"}},[a("v-flex",{attrs:{xs12:"",row:""}},[a("v-flex",{attrs:{xs1:""}},[t._v(t._s(s+1))]),a("v-flex",{attrs:{xs1:""}},[t._v(t._s(e.qty_sold))]),a("v-flex",{attrs:{xs8:""}},[t._v(t._s(e.name)+"("+t._s(t._f("toTitleCase")(e.revType))+")")]),a("v-flex",{attrs:{xs2:""}},[t._v("₦"+t._s(t._f("toDecimal")(e.total)))])],1)],1)}),0),a("div",{staticClass:"panel-footer"},[a("table",{staticClass:"table table-hover",attrs:{cellpadding:"5px",cellspacing:"5px"}},[a("tbody",[a("tr",[a("td",{staticStyle:{width:"90%"}},[a("span",[t._v("Sub-Total")])]),a("td",{staticStyle:{"text-align":"right"}},[t._v("\n                              ₦"+t._s(t._f("toDecimal")(t.carts.subtotal))+"\n                            ")])]),a("tr",[a("td",{staticStyle:{width:"90%"}},[a("a",{staticClass:"js-tooltip button"},[t._v("Discount")])]),a("td",{staticStyle:{"text-align":"right"}},[t._v("\n                              ₦"+t._s(t._f("toDecimal")(t.carts.discount))+"\n                            ")])]),a("tr",[a("td",{staticStyle:{width:"90%"}},[a("span",[t._v("VAT")])]),a("td",{staticStyle:{"text-align":"right"}},[t._v("\n                              ₦"+t._s(t._f("toDecimal")(t.carts.vat))+"\n                            ")])]),a("tr",[a("th",{staticStyle:{width:"90%"}},[a("strong",[a("span",[t._v("Total Payable")])])]),a("th",{staticStyle:{"text-align":"right"}},[a("strong",[t._v("₦"+t._s(t._f("toDecimal")(t.carts.total)))])])]),a("tr",[a("td",{attrs:{colspan:"2"}},[t._v(t._s(t.carts.remark))])])])]),a("v-flex",{staticClass:"stamp",attrs:{xs12:""}},[a("v-btn",{attrs:{icon:"",large:""}},[a("v-avatar",{staticStyle:{opacity:"0.7"},attrs:{size:"100px",tile:""}},[a("img",{staticClass:"rstamp",attrs:{src:t.stamp,alt:"paid stamp"}})])],1)],1)],1)],1)]),t.carts.user?a("v-flex",{staticStyle:{"text-align":"left"},attrs:{xs12:"","justify-left":""}},[t._v("Printed by: "+t._s(t.carts.user.name))]):t._e(),a("v-flex",{staticStyle:{"text-align":"center"},attrs:{xs12:"","align-center":"","justify-center":""}},[t._v("© MiCT Explorers\n                ")])],1)])],1)],1)],1)],1)},Mt=[],qt=a("75fc"),Nt=(a("55f8"),window.require("electron")),Lt=(Nt.remote,a("07e8")),Et=window.require("electron").ipcRenderer,Ut=(window.require("fs"),a("df7c"),{name:"PrintReceipt",data:function(){return{carts:{id:0,code:"",subtotal:0,overallDiscount:0,discount:0,vat:0,total:0,remark:"",paid:!1,date:"",customer:{id:0,name:"",sex:"",dob:"",mstatus:"",email:"",phone:"",type:0,address:""},items:[],payment:[]},output:null,logo:"",_default:"",stamp:""}},computed:Object(x["a"])({},Object(j["c"])(["outlet","cart","paymentMethods","users"])),methods:Object(x["a"])({},Object(j["b"])(["unSyncCart","updateStorage"]),{loadDefault:function(){this.carts=D.get("cart")},closePrint:function(){this.clearCarts(),this.$router.push({name:"home"})},clearCarts:function(){D.remove("cart"),this.resetCart()},resetCart:function(){this.carts={id:0,code:"",subtotal:0,overallDiscount:0,discount:0,vat:0,total:0,remark:"",paid:!1,customer:{id:0,name:"",sex:"",dob:"",mstatus:"",email:"",phone:"",type:0,address:""},items:[],payment:[]}},printReceipt:function(){for(var t="",e=0,a=Object(qt["a"])(document.querySelectorAll('link[rel="stylesheet"],link[rel="preload"], style'));e<a.length;e++){var s=a[e];t+=s.outerHTML}var r=document.getElementById("print").innerHTML;"<!DOCTYPE html>\n                <html>\n                <head>\n                    ".concat(t,"\n                </head>\n                <body>\n                    ").concat(r,"\n                </body>\n                </html>");Et.send("print-to-pdf")},closePrinter:function(){this.$emit("closePrinter",!1)}}),mounted:function(){var t=this;this.loadDefault(),Lt(a("530c")).then(function(e){t.logo="data:image/jpeg;base64,"+e}).catch(function(t){console.log(t)}),Lt(a("476d")).then(function(e){t.stamp="data:image/jpeg;base64,"+e}).catch(function(t){console.log(t)})}}),Wt=Ut,zt=(a("bdbf"),Object(d["a"])(Wt,Rt,Mt,!1,null,null,null)),Ht=zt.exports;I()(zt,{VAvatar:z["a"],VBtn:H["a"],VCard:ht["a"],VCardText:gt["b"],VDivider:K["a"],VFlex:R["a"],VIcon:G["a"],VLayout:M["a"],VSpacer:rt["a"],VToolbar:it["a"],VToolbarTitle:ot["a"]});window.require("electron").ipcRenderer;var Qt={data:function(){return{tabs:null,customer_dialog:!1,productSearchInput:"",productsFilter:[],isPaid:!1,isSalesOpen:!0,paynow_dialog:!1,error_dialog:!1,service_dialog:!1,waver_dialog:!1,disable_option:!1,message:"",waver_lock:!1,paymentmethod:[],date:(new Date).toISOString().substr(0,10),modal:!1,tab:[],bill:[],billing_dialog:!1,billing_pay_dialog:!1,billAmount:0,billingAccount:[],waver:{username:"",password:""},types:[{selected:"selected",name:"Normal"},{selected:"",name:"NHIS"},{selected:"",name:"DAMA"}],bHeaders:[{text:"SN",align:"left",sortable:!1,value:"index"},{text:"Code",align:"left",sortable:!1,value:"code"},{text:"Name",align:"left",sortable:!0,value:"name"},{text:"Card no",align:"left",sortable:!0,value:"card"},{text:"Admission Date",align:"left",sortable:!0,value:"dateOfAdmission"},{text:"Amount",value:"amount",sortable:!1,align:"left"},{text:"Date",value:"date",sortable:!1,align:"left"},{text:"Collector",value:"collector",sortable:!1,align:"left"},{text:"",value:"action",sortable:!1,align:"left"}],carts:{code:"",subtotal:0,type:"Normal",percentage:100,overallDiscount:0,discount:0,vat:0,total:0,remark:"",paid:!1,sync:!1,date:"",billed:!1,part:!0,customer:{id:0,name:"",file:"",sex:"",dob:"",mstatus:"",email:"",phone:"",type:0,address:""},bill:[],user:[],items:[],payment:[]}}},computed:Object(x["a"])({},Object(j["c"])(["outlet","domain","billings","products","today","transCode","paymentMethods","unsyncCart","cart","users"]),{cartItem:function(){return this.carts.items},isCartNotEmpty:function(){return this.carts.items.length>0}}),components:{Carts:It,Receipt:Ht},props:{source:String},methods:Object(x["a"])({},Object(j["b"])(["addProduct","addBilling","getDomain","addCart","padBills","deleteCart","getCode","getToday","addpaymentMethods","checkStorage","deleteBilling","saveStorage"]),{colorAsign:function(){var t=["bg-color-gold","bg-color-green","bg-color-red","bg-color-blue","bg-color-orange","bg-color-pink","bg-color-purple","bg-color-lime","bg-color-magenta","bg-color-teal","bg-color-turquoise","bg-color-amethyst","bg-color-wet-asphalt","bg-color-midnight-blue","bg-color-sun-flower","bg-color-pomegranate","bg-color-silver","bg-color-asbestos"],e=Math.floor(Math.random()*t.length);return t[e]},loadProduct:function(){for(var t in this.products)this.tab.push(t);this.pushRightItem(this.tab[0])},loadMethod:function(){this.paymentmethod=this.paymentMethods},loadBillingAccount:function(){var t=this;this.billingAccount=this.billingAccount||[];var e={outlet:this.outlet};w.a.post(this.domain+"/getBilling",e).then(function(e){e.data.status>0&&null!=e.data.response&&t.addBilling(e.data.response)}).catch(function(t){})},pushRightItem:function(t){if(this.productsFilter=this.products[t],this.productsFilter){var e=[],a=!0,s=!1,r=void 0;try{for(var i,n=vt()(this.productsFilter);!(a=(i=n.next()).done);a=!0){var o=i.value;o["color"]=this.colorAsign(),e.push(o)}}catch(l){s=!0,r=l}finally{try{a||null==n.return||n.return()}finally{if(s)throw r}}this.productsFilter=e}this.productSearchInput=""},searchProduct:function(){var t=this,e=[];for(var a in this.products)this.products[a]&&e.push(this.products[a]);if(e=[].concat.apply([],e),e){var s=[],r=!0,i=!1,n=void 0;try{for(var o,l=vt()(e);!(r=(o=l.next()).done);r=!0){var c=o.value;c["color"]=this.colorAsign(),s.push(c)}}catch(d){i=!0,n=d}finally{try{r||null==l.return||l.return()}finally{if(i)throw n}}e=s}this.productsFilter=e.filter(function(e){return e.name.toLowerCase().includes(t.productSearchInput.toLowerCase())||e.tag.toLowerCase().includes(t.productSearchInput.toLowerCase())})},addProduct:function(t){if(this.carts.items.length>0){var e=this.carts.items.findIndex(function(e){return e.id==t["id"]});e>-1?(this.carts.items[e]["qty_sold"]+=1,this.carts.items[e]["total"]=this.carts.items[e]["amount"]*this.carts.items[e]["qty_sold"]):(t["qty_sold"]=1,t["total"]=t["amount"]*t["qty_sold"],t["discount"]=0,this.carts.items.push(t))}else t["qty_sold"]=1,t["total"]=t["amount"]*t["qty_sold"],t["discount"]=0,this.carts.items.push(t);this.changeType()},makePayment:function(){var t=D.get("user");if(this.carts.user=Object(x["a"])({},t),void 0==this.carts.total||"NaN"==this.carts.total)return alert("Please select transaction type"),!1;this.carts.customer.file||(this.getCode(),this.carts.customer.file=this.transCode),this.carts.customer.name&&this.carts.customer.file?(this.paynow_dialog=!0,this.isPaid=!1):(this.message="Kindly register payee details and attach to this payment",this.error_dialog=!0,this.customer_dialog=!0)},openWaver:function(){this.waver_lock?(this.waver_lock=!1,this.waver_dialog=!1):(this.waver_lock=!1,this.waver_dialog=!0)},unlockWaver:function(){this.waver.username.length>0&&this.waver.password.length>0&&(this.waver_lock=!0,this.waver_dialog=!1,this.waver.username==this.outlet.waver_username&&this.waver.password==this.outlet.waver_password&&(this.waver_lock=!0,this.waver_dialog=!1,this.waver={username:"",password:""}))},paynowHandler:function(t){var e=this;this.getCode(),this.getToday(),this.carts.code=this.outlet.paypoint.toString()+P(),this.carts.payment=t,this.carts.date=this.today,this.carts.system=D.get("system");D.set("cart",this.carts);var a={outlet:this.outlet,carts:this.carts};w.a.post(this.domain+"/postBookingCart",a).then(function(t){t.data.status>0&&(e.carts.sync=!0,!0),e.addCart(e.carts),e.carts.billed&&e.deleteBilling(e.carts.bill)}).catch(function(t){console.log(t)}),this.paynow_dialog=!1,this.isPaid=!0},payBillNow:function(t){this.carts.part=0!=t},continueWithBilling:function(){this.carts.customer.id=this.bill.id,this.carts.customer.file=this.bill.file.toString(),this.carts.customer.name=this.bill.name,this.carts.overallDiscount=this.bill.total,this.carts.part?(this.carts.total=this.billAmount,this.carts.remark="Payment of #".concat(this.$options.filters.toDecimal(this.billAmount)," being part payment of #").concat(this.$options.filters.toDecimal(this.carts.subtotal)," for billing")):this.carts.remark="Balance of # ".concat(this.$options.filters.toDecimal(this.bill.total)," being payments from billing"),this.calculateSummary(),this.carts.billed=!0,this.billing_pay_dialog=!1},addCustomer:function(){this.customer_dialog=!0},addBill:function(){this.billing_dialog=!0},removeBill:function(){this.carts.customer.file="",this.carts.customer.name="",this.carts.billed=!1,this.carts.discount=""},attachCustomerBill:function(t){this.bill=t,this.billing_dialog=!1,this.billing_pay_dialog=!0},saveCusttomer:function(){this.carts.customer.name&&this.carts.customer.file&&(this.customer_dialog=!1,this.carts.items&&(this.paynow_dialog=!0,this.isPaid=!1))},editDiscountModalModal:function(){},deleteItem:function(t){this.carts.items.splice(t.index,1),this.calculateSummary()},updateQty:function(t){this.carts.items[t.index]["total"]=this.carts.items[t.index]["amount"]*this.carts.items[t.index]["qty_sold"],this.calculateSummary()},updateTotDiscount:function(){this.carts.remark="Discount of # ".concat(this.$options.filters.toDecimal(this.carts.overallDiscount)," for waver."),this.calculateSummary()},changeType:function(){this.carts.overallDiscount=0,"Normal"==this.carts.type?(this.disable_option=!1,this.carts.percentage=100):"NHIS"==this.carts.type?(this.disable_option=!0,this.carts.percentage=10):"DAMA"==this.carts.type&&(this.disable_option=!0,this.carts.percentage=10),this.carts.remark="Payment of ".concat(this.carts.percentage,"% for ").concat(this.carts.type," account."),this.calculateSummary()},updateTotPercentage:function(){this.carts.remark="Payment of # ".concat(this.carts.percentage,"% for ").concat(this.carts.type," account."),this.calculateSummary()},updateDiscount:function(t){this.carts.items[t.index]["total"]=this.carts.items[t.index]["total"]-this.carts.items[t.index]["discount"],this.calculateSummary()},parkSales:function(){var t=D.get("packedsales");t?(t.push(this.carts),D.set("packedsales",this.carts)):D.set("packedsales",this.carts),this.emptyCart()},emptyCart:function(){this.carts={code:"",subtotal:0,type:"Normal",percentage:100,overallDiscount:0,discount:0,vat:0,total:0,remark:"",paid:!1,sync:!1,date:"",billed:!1,part:!0,customer:{id:0,name:"",file:"",sex:"",dob:"",mstatus:"",email:"",phone:"",type:0,address:""},bill:[],user:[],items:[],payment:[]}},calculateSummary:function(){var t=0,e=0,a=0;""==this.carts.overallDiscount&&(this.carts.overallDiscount=0);for(var s=0;s<this.carts.items.length;s++)t+=Tt()(this.carts.items[s].qty_sold),a+=Pt()(this.carts.items[s].total),e+=Pt()(this.carts.items[s].discount);this.carts.subtotal=a,this.carts.overallDiscount=Pt()(this.carts.subtotal)-Tt()(this.carts.percentage)/100*Pt()(this.carts.subtotal)+Pt()(this.carts.overallDiscount),this.carts.discount=Pt()(this.carts.overallDiscount)+Pt()(e),this.carts.qty=t,this.carts.total=Pt()(a)-Pt()(this.carts.overallDiscount)+Pt()(this.carts.vat),D.set("currentCart",this.carts)},closeReceipt:function(t){D.remove("cart"),this.isPaid=t,this.emptyCart()}}),mounted:function(){this.checkStorage(),this.getDomain(),this.loadProduct(),this.loadMethod(),this.loadBillingAccount();var t=D.get("cart");t&&(this.paynow_dialog=!1,this.isPaid=!0),console.log(this.billings)}},Yt=Qt,Kt=(a("8b71"),a("8fea")),Gt=a("2e4b"),Jt=a("b56d"),Zt=Object(d["a"])(Yt,St,Dt,!1,null,null,null),Xt=Zt.exports;I()(Zt,{VApp:W["a"],VAvatar:z["a"],VBtn:H["a"],VCard:ht["a"],VCardActions:gt["a"],VCardTitle:bt["a"],VContainer:Q["a"],VDataTable:Kt["a"],VDatePicker:Gt["a"],VDialog:yt["a"],VFlex:R["a"],VForm:xt["a"],VIcon:G["a"],VLayout:M["a"],VSelect:Jt["a"],VSpacer:rt["a"],VTextField:wt["a"],VToolbar:it["a"],VToolbarTitle:ot["a"]});var te=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{attrs:{id:"inspire"}},[a("v-content",[a("v-container",{attrs:{fluid:"","fill-height":""}},[a("v-layout",{attrs:{"align-center":"","justify-center":""}},[a("v-flex",{attrs:{xs12:"",sm8:"",md4:""}},[a("v-card",{staticClass:"elevation-12"},[a("v-toolbar",{attrs:{dark:"",color:"primary"}},[a("v-toolbar-title",[t._v("System setup")]),a("v-spacer")],1),a("v-card-text",[a("v-form",[a("v-text-field",{attrs:{"prepend-icon":"home",name:"hospital",label:"Hospital number",type:"text"},model:{value:t.hospital.code,callback:function(e){t.$set(t.hospital,"code",e)},expression:"hospital.code"}}),a("v-select",{attrs:{items:t.paypoints,"item-text":"paypoint","item-value":"id",rules:[function(t){return!!t||"Paypoint is required"}],label:"Paypoint number","prepend-icon":"keyboard",required:""},model:{value:t.hospital.paypoint,callback:function(e){t.$set(t.hospital,"paypoint",e)},expression:"hospital.paypoint"}}),a("v-text-field",{attrs:{"prepend-icon":"home",name:"domain",label:"Server domain",type:"text"},model:{value:t.hospital.domain,callback:function(e){t.$set(t.hospital,"domain",e)},expression:"hospital.domain"}})],1)],1),a("v-card-actions",[this.outlet.length>0?a("v-btn",{attrs:{color:"red",align:"left"},on:{click:t.loadLogin}},[a("v-icon",[t._v("keyboard_arrow_left")]),t._v("Back")],1):t._e(),a("v-spacer"),a("v-btn",{attrs:{color:"primary"},on:{click:t.setupPaypoint}},[t._v("Setup")])],1)],1)],1)],1)],1)],1),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.failed,callback:function(e){t.failed=e},expression:"failed"}},[a("v-card",[a("v-card-title",[t._v("\n        Message\n      ")]),a("v-card-text",[t._v("\n        "+t._s(t.message)+"\n      ")]),a("v-card-actions",{attrs:{"align-right":""}},[a("v-btn",{attrs:{color:"primary",flat:""},on:{click:function(e){t.failed=!1}}},[t._v("Close")])],1)],1)],1),a("v-dialog",{attrs:{"hide-overlay":"",persistent:"",width:"300"},model:{value:t.loadingDialog,callback:function(e){t.loadingDialog=e},expression:"loadingDialog"}},[a("v-card",{attrs:{color:"primary",dark:""}},[a("v-card-text",[t._v("\n        Authenticating paypoint.\n        "),a("v-progress-linear",{staticClass:"mb-0",attrs:{indeterminate:"",color:"white"}})],1)],1)],1)],1)},ee=[],ae=void 0,se={data:function(){return{drawer:null,paypoints:[1,2,3,4,5,6,7,8,9,10],hospital:{code:"",paypoint:1,domain:""},loadingDialog:!1,failed:!1,message:""}},props:{source:String},computed:Object(x["a"])({},Object(j["c"])(["outlet","domain"]),{outletExists:function(){return ae.outlet.length>0}}),methods:Object(x["a"])({},Object(j["b"])(["addOutlet","addpaymentMethods","getDomain","checkStorage","saveStorage"]),{loadLogin:function(){this.$router.push("/")},setupPaypoint:function(t){var e=this;if(t.preventDefault(),""!=this.hospital.code){this.loadingDialog=!0;var a=new FormData;a.append("code",this.hospital.code),a.append("paypoint",this.hospital.paypoint),a.append("url",this.hospital.domain);var s={code:this.hospital.code,paypoint:this.hospital.paypoint,url:this.hospital.domain},r=""===this.hospital.domain?S:this.hospital.domain;w.a.post(r+"/auth",s).then(function(t){t.data.status>0?(e.addOutlet(t.data.response.outlet),e.addpaymentMethods(t.data.response.method),e.message=t.data.message,e.loadingDialog=!1,e.$router.push("/app-setup")):(e.loadingDialog=!1,e.failed=!0,e.message=t.data.message)}).catch(function(t){e.message="Error occured while trying to save Paypoint detail",e.loadingDialog=!1,e.failed=!0})}}}),mounted:function(){this.checkStorage(),this.getDomain(),this.hospital.code=this.outlet.code,this.hospital.paypoint=this.outlet.paypoint||this.hospital.paypoint,this.hospital.domain=this.domain}},re=se,ie=Object(d["a"])(re,te,ee,!1,null,null,null),ne=ie.exports;I()(ie,{VApp:W["a"],VBtn:H["a"],VCard:ht["a"],VCardActions:gt["a"],VCardText:gt["b"],VCardTitle:bt["a"],VContainer:Q["a"],VContent:Y["a"],VDialog:yt["a"],VFlex:R["a"],VForm:xt["a"],VIcon:G["a"],VLayout:M["a"],VProgressLinear:_t["a"],VSelect:Jt["a"],VSpacer:rt["a"],VTextField:wt["a"],VToolbar:it["a"],VToolbarTitle:ot["a"]});var oe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{attrs:{id:"inspire"}},[a("v-layout",[t.viewReceipt?a("v-layout",{attrs:{row:"",wrap:""}},[a("receipt",{staticStyle:{width:"100%"},on:{closePrinter:t.closeReceipt}})],1):a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:"",id:"print"}},[a("v-flex",{staticStyle:{"background-color":"#F0F8FF"},attrs:{xs12:""}},[a("div",{staticClass:"page-header"},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs8:"",row:"",wrap:""}},[a("v-flex",{attrs:{xs4:""}},[t._v("\n                  Collection report\n                ")]),1==t.me.acct_type?a("v-flex",{staticStyle:{color:"red"},attrs:{xs5:""}},[t._v("\n                  Total: ₦"+t._s(t._f("toDecimal")(t.getTotalSum))+"\n                ")]):t._e(),a("v-flex",{staticStyle:{color:"green"},attrs:{xs3:""}},[t._v("\n                  Records: "+t._s(t.getTotalRecord)+"\n                ")])],1),a("v-flex",{staticClass:"no-print",attrs:{xs4:"","justify-right":"","align-right":""}},[a("v-btn",{attrs:{primary:""},on:{click:t.showFilterForm}},[a("v-icon",[t._v("bar_chart")]),t._v("Filter report")],1),a("v-btn",{attrs:{primary:""},on:{click:t.printReceipt}},[a("v-icon",[t._v("local_printshop")]),t._v("Print report")],1)],1)],1)],1)]),a("v-divider"),t.filterForm?a("v-flex",{attrs:{xs12:""}},[a("div",{staticClass:"page-header"},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs2:"","align-center":"","justify-space-between":""}},[a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-text-field",t._g({attrs:{label:"From","prepend-icon":"event",readonly:""},model:{value:t.parameters.from,callback:function(e){t.$set(t.parameters,"from",e)},expression:"parameters.from"}},s))]}}],null,!1,1998651981),model:{value:t.modalFrom,callback:function(e){t.modalFrom=e},expression:"modalFrom"}},[a("v-date-picker",{attrs:{landscape:!0,relative:!0},on:{input:function(e){t.modalFrom=!1}},model:{value:t.parameters.from,callback:function(e){t.$set(t.parameters,"from",e)},expression:"parameters.from"}})],1)],1),a("v-flex",{attrs:{xs2:"","align-center":"","justify-space-between":""}},[a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-text-field",t._g({attrs:{label:"To","prepend-icon":"event",readonly:""},model:{value:t.parameters.to,callback:function(e){t.$set(t.parameters,"to",e)},expression:"parameters.to"}},s))]}}],null,!1,1163986349),model:{value:t.modalTo,callback:function(e){t.modalTo=e},expression:"modalTo"}},[a("v-date-picker",{attrs:{landscape:!0,relative:!0},on:{input:function(e){t.modalTo=!1}},model:{value:t.parameters.to,callback:function(e){t.$set(t.parameters,"to",e)},expression:"parameters.to"}})],1)],1),a("v-flex",{attrs:{xs2:"","align-center":"","justify-space-between":""}},[a("v-layout",{attrs:{"align-center":""}},[a("v-text-field",{attrs:{"prepend-icon":"code",placeholder:"Payment code or Card no"},model:{value:t.parameters.code,callback:function(e){t.$set(t.parameters,"code",e)},expression:"parameters.code"}})],1)],1),a("v-flex",{attrs:{xs2:"","align-center":"","justify-space-between":""}},[a("v-layout",{attrs:{"align-center":""}},[a("v-text-field",{attrs:{"prepend-icon":"person",placeholder:"Patient name"},model:{value:t.parameters.name,callback:function(e){t.$set(t.parameters,"name",e)},expression:"parameters.name"}})],1)],1),1==t.me.acct_type?a("v-flex",{attrs:{xs2:"","align-center":"","justify-space-between":""}},[a("v-layout",{attrs:{"align-center":""}},[a("v-select",{attrs:{items:t.users,"item-text":"name","item-value":"id","prepend-icon":"person",label:"Collector"},model:{value:t.parameters.collector,callback:function(e){t.$set(t.parameters,"collector",e)},expression:"parameters.collector"}})],1)],1):t._e(),a("v-flex",{attrs:{xs2:"","align-center":"","justify-space-between":""}},[a("v-layout",{attrs:{"align-center":""}},[a("v-btn",{staticClass:"btn",on:{click:t.loadReport}},[a("v-icon",[t._v("search")]),t._v(" Search\n                  ")],1)],1)],1)],1)],1),a("v-divider")],1):t._e(),a("v-flex",{attrs:{xs12:""}},[t.list?a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.list,"item-key":"name"},scopedSlots:t._u([{key:"items",fn:function(e){return[a("tr",[a("td",[t._v(t._s(e.index+1))]),a("td",[t._v(t._s(e.item.code))]),a("td",[t._v(t._s(e.item.customer.name))]),a("td",[t._v(t._s(e.item.customer.file))]),a("td",[t._v(t._s(t.description(e.item.items)))]),a("td",[t._v(t._s(t._f("toDecimal")(e.item.subtotal)))]),a("td",[t._v(t._s(t._f("toDecimal")(e.item.discount)))]),a("td",[t._v(t._s(t._f("toDecimal")(e.item.vat)))]),a("td",[t._v(t._s(t._f("toDecimal")(e.item.total)))]),a("td",[t._v(t._s(e.item.date))]),a("td",{staticClass:"text-xs-left no-print"},[a("v-btn",{attrs:{primary:""},on:{click:function(a){return t.reprint(e.item)}}},[a("v-icon",[t._v("local_printshop")]),t._v("Print receipt")],1)],1)])]}}],null,!1,3999192520)}):t._e()],1)],1)],1)],1),a("v-dialog",{attrs:{"hide-overlay":"",persistent:"",width:"300"},model:{value:t.loadingDialog,callback:function(e){t.loadingDialog=e},expression:"loadingDialog"}},[a("v-card",{attrs:{color:"primary",dark:""}},[a("v-card-text",[t._v("\n        Processing... pls wait.\n        "),a("v-progress-linear",{staticClass:"mb-0",attrs:{indeterminate:"",color:"white"}})],1)],1)],1)],1)},le=[],ce=(a("f576"),a("7514"),a("1157")),de=a.n(ce),ue=window.require("electron"),pe=ue.remote,ve=(pe.BrowserWindow,a("07e8"),window.require("electron").ipcRenderer),me={data:function(){return{headers:[{text:"SN",align:"left",sortable:!1,value:"index"},{text:"Code",align:"left",sortable:!1,value:"code"},{text:"Payee",align:"left",sortable:!0,value:"name"},{text:"Card No",align:"left",sortable:!0,value:"card_no"},{text:"Description",value:"desc",sortable:!1,align:"left"},{text:"Amount",value:"amount",sortable:!1,align:"left"},{text:"Discount",value:"discount",sortable:!1,align:"left"},{text:"VAT",value:"vat",sortable:!1,align:"left"},{text:"Total",value:"total",sortable:!1,align:"left"},{text:"Date",value:"date",sortable:!0,align:"left"},{text:"",value:"action",sortable:!1,align:"left"}],filterForm:!1,list:[],date:(new Date).toISOString().substr(0,10),parameters:{from:"",to:"",code:"",collector:"",name:"",user:[]},modalFrom:!1,modalTo:!1,loadingDialog:!1,viewReceipt:!1,me:[],numOfRec:0}},computed:Object(x["a"])({},Object(j["c"])(["outlet","service","drugs","domain","cart","users","todaySales"]),{getTotalSum:function(){for(var t=0,e=0;e<this.list.length;e++)t+=this.list[e]["total"];return t},getTotalRecord:function(){return this.list.length}}),components:{Receipt:Ht},props:{source:String},methods:Object(x["a"])({},Object(j["b"])(["filterSales","checkStorage","getDomain","saveStorage"]),{description:function(t){for(var e="",a=0;a<t.length;a++)e+=t[a]["name"]+"("+t[a]["code"]+")="+t[a]["amount"]+";";return e},showFilterForm:function(){this.filterForm?this.filterForm=!1:this.filterForm=!0},filter:function(){""!=parameters.from&&""!=parameters.to&&(this.list=this.cart.find(function(t){return t.date>=parameters.from&&t<=parameters.to})),""!=parameters.from&&""==parameters.to&&(this.list=this.cart.find(function(t){return t.date===parameters.from})),""==parameters.from&&""!=parameters.to&&(this.list=this.cart.find(function(t){return t.date===parameters.to})),""==parameters.from&&""==parameters.to&&(this.list=this.cart),""!=parameters.code&&(this.list=this.cart.find(function(t){return t.code===parameters.code||c.customer.file===parameters.code})),this.loadReport()},printReceipt:function(){for(var t="",e=0,a=Object(qt["a"])(document.querySelectorAll('link[rel="stylesheet"], style'));e<a.length;e++){var s=a[e];t+=s.outerHTML}var r=this.jQuery("#print").html();"<!DOCTYPE html>\n                <html>\n                <head>\n                    ".concat(t,"\n                </head>\n                <body>\n                    ").concat(r,"\n                </body>\n                </html>");ve.send("readyToPrint")},reprint:function(t){D.set("cart",t),this.viewReceipt=!0},closeReceipt:function(t){D.remove("cart"),this.viewReceipt=!1},loadToady:function(){var t=new Date,e=String(t.getDate()).padStart(2,"0"),a=String(t.getMonth()+1).padStart(2,"0"),s=t.getFullYear();t=s+"-"+a+"-"+e,this.parameters={from:t,to:t},this.loadReport()},loadReport:function(){var t=this;this.loadingDialog=!0,this.parameters["user"]=D.get("user"),console.log(y()(this.parameters)),w.a.post(this.domain+"/report",this.parameters).then(function(e){e.data.status>0&&(e.data.response.report.length>0?(t.list=e.data.response.report,t.numOfRec=e.data.response.count):(t.list=[],t.numOfRec=0)),t.loadingDialog=!1}).catch(function(e){console.log(e),t.loadingDialog=!1})}}),mounted:function(){this.checkStorage(),this.loadToady(),this.list=this.todaySales,this.me=D.get("user")}},fe=me,he=(a("f0f9"),a("e449")),ge=Object(d["a"])(fe,oe,le,!1,null,null,null),be=ge.exports;I()(ge,{VApp:W["a"],VBtn:H["a"],VCard:ht["a"],VCardText:gt["b"],VDataTable:Kt["a"],VDatePicker:Gt["a"],VDialog:yt["a"],VDivider:K["a"],VFlex:R["a"],VIcon:G["a"],VLayout:M["a"],VMenu:he["a"],VProgressLinear:_t["a"],VSelect:Jt["a"],VTextField:wt["a"]});var ye=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{attrs:{id:"inspire"}},[a("v-layout",[t.viewReceipt?a("v-layout",{attrs:{row:"",wrap:""}},[a("receipt",{staticStyle:{width:"100%"},on:{closePrinter:t.closeReceipt}})],1):a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:"",id:"print"}},[a("v-flex",{attrs:{xs12:""}},[a("div",{staticClass:"page-header"},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs9:"",row:"",wrap:""}},[a("v-flex",{attrs:{xs3:""}},[t._v("Price List")]),a("v-flex",[a("v-flex",{attrs:{xs12:"","align-center":"","justify-space-between":""}},[a("v-text-field",{staticClass:"mx-3",attrs:{"append-icon":"search",flat:"",label:"Search","prepend-inner-icon":"search","solo-inverted":""},on:{input:t.searchProduct},model:{value:t.productSearchInput,callback:function(e){t.productSearchInput=e},expression:"productSearchInput"}})],1)],1)],1),a("v-flex",{staticClass:"no-print",attrs:{xs3:"","justify-right":"","align-right":""}},[a("v-btn",{attrs:{primary:""},on:{click:t.printReceipt}},[a("v-icon",[t._v("local_printshop")]),t._v("Print price list")],1)],1)],1)],1)]),a("v-divider"),a("v-flex",{attrs:{xs12:""}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.list,"item-key":"name"},scopedSlots:t._u([{key:"items",fn:function(e){return[a("tr",[a("td",[t._v(t._s(e.index+1))]),a("td",[t._v(t._s(e.item.code))]),a("td",[t._v(t._s(t._f("toTitleCase")(e.item.tag)))]),a("td",[t._v(t._s(e.item.name))]),a("td",[t._v(t._s(t._f("toDecimal")(e.item.amount)))])])]}}],null,!1,345497741)})],1)],1)],1)],1),a("v-dialog",{attrs:{"hide-overlay":"",persistent:"",width:"300"},model:{value:t.loadingDialog,callback:function(e){t.loadingDialog=e},expression:"loadingDialog"}},[a("v-card",{attrs:{color:"primary",dark:""}},[a("v-card-text",[t._v("\n        Processing... pls wait.\n        "),a("v-progress-linear",{staticClass:"mb-0",attrs:{indeterminate:"",color:"white"}})],1)],1)],1)],1)},xe=[],_e=window.require("electron"),we=_e.remote,Ce=(we.BrowserWindow,a("07e8"),window.require("electron").ipcRenderer),ke={data:function(){return{headers:[{text:"SN",align:"left",sortable:!1,value:"index"},{text:"Code",align:"left",sortable:!1,value:"code"},{text:"Tag",align:"left",sortable:!0,value:"tag"},{text:"Name",align:"left",sortable:!0,value:"name"},{text:"Price",value:"desc",sortable:!1,align:"left"}],filterForm:!1,list:[],date:(new Date).toISOString().substr(0,10),parameters:{from:"",to:"",code:""},modalFrom:!1,modalTo:!1,loadingDialog:!1,viewReceipt:!1,productSearchInput:""}},computed:Object(x["a"])({},Object(j["c"])(["outlet","products"])),components:{Receipt:Ht},props:{source:String},methods:Object(x["a"])({},Object(j["b"])(["checkStorage","saveStorage"]),{getList:function(){for(var t in this.products)this.products[t]&&this.list.push(this.products[t]);this.list=[].concat.apply([],this.list)},searchProduct:function(){var t=this,e=[];for(var a in this.products)this.products[a]&&e.push(this.products[a]);e=[].concat.apply([],e),this.list=e.filter(function(e){return e.name.toLowerCase().includes(t.productSearchInput.toLowerCase())})},printReceipt:function(){for(var t="",e=0,a=Object(qt["a"])(document.querySelectorAll('link[rel="stylesheet"], style'));e<a.length;e++){var s=a[e];t+=s.outerHTML}var r=this.jQuery("#print").html();"<!DOCTYPE html>\n                <html>\n                <head>\n                    ".concat(t,"\n                </head>\n                <body>\n                    ").concat(r,"\n                </body>\n                </html>");Ce.send("readyToPrint")}}),mounted:function(){this.checkStorage(),this.getList()}},Se=ke,De=(a("e6aa"),Object(d["a"])(Se,ye,xe,!1,null,null,null)),Ve=De.exports;I()(De,{VApp:W["a"],VBtn:H["a"],VCard:ht["a"],VCardText:gt["b"],VDataTable:Kt["a"],VDialog:yt["a"],VDivider:K["a"],VFlex:R["a"],VIcon:G["a"],VLayout:M["a"],VProgressLinear:_t["a"],VTextField:wt["a"]});var Pe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{attrs:{id:"inspire"}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:"",id:"print"}},[a("v-flex",{attrs:{xs12:""}},[a("div",{staticClass:"page-header"},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs7:"",row:"",wrap:""}},[a("v-flex",{attrs:{xs3:""}},[t._v("Billing List")]),a("v-flex",{attrs:{xs9:""}},[a("v-flex",{attrs:{xs12:"","align-center":"","justify-space-between":""}},[a("v-text-field",{staticClass:"mx-3",attrs:{"append-icon":"search",flat:"",label:"Search","prepend-inner-icon":"search","solo-inverted":""},on:{input:t.searchProduct},model:{value:t.productSearchInput,callback:function(e){t.productSearchInput=e},expression:"productSearchInput"}})],1)],1)],1),a("v-flex",{staticClass:"no-print",attrs:{xs5:"","justify-right":"","align-right":""}},[a("v-btn",{attrs:{primary:""},on:{click:t.createNewBilling}},[a("v-icon",[t._v("person")]),t._v("Create new bill")],1),a("v-btn",{attrs:{primary:""},on:{click:t.printReceipt}},[a("v-icon",[t._v("local_printshop")]),t._v("Print biiling list")],1)],1)],1)],1)]),a("v-divider"),a("v-flex",{attrs:{xs12:""}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.list,"item-key":"index"},scopedSlots:t._u([{key:"items",fn:function(e){return[a("tr",[a("td",[t._v(t._s(e.index+1))]),a("td",[t._v(t._s(e.item.name))]),a("td",[t._v(t._s(e.item.file))]),a("td",[t._v(t._s(t._f("toDecimal")(e.item.total)))]),a("td",[t._v(t._s(e.item.date))]),a("td",[t._v(t._s(e.item.collector))]),a("td",[a("v-btn",{on:{click:function(a){return t.addPayment(e.item)}}},[t._v("View payment")])],1)])]}}])})],1)],1)],1)],1)],1),a("v-dialog",{attrs:{width:"400px"},model:{value:t.error_dialog,callback:function(e){t.error_dialog=e},expression:"error_dialog"}},[a("v-card",{attrs:{"align-center":""}},[a("v-card-title",{staticClass:"grey lighten-4 py-4 title"},[t._v("\n          Error message\n          ")]),a("v-container",{staticClass:"pa-4",attrs:{"grid-list-sm":""}},[t._v("\n          "+t._s(t.message)+"\n          ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{flat:"",color:"primary"},on:{click:function(e){t.error_dialog=!1}}},[t._v("Close")])],1)],1)],1),a("v-dialog",{attrs:{width:"800px"},model:{value:t.billing_dialog,callback:function(e){t.billing_dialog=e},expression:"billing_dialog"}},[a("v-card",[a("v-card-title",{staticClass:"grey lighten-4 py-4 title"},[t._v("\n              Add new customer\n          ")]),a("v-container",{staticClass:"pa-4",attrs:{"grid-list-sm":""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-layout",{attrs:{"align-center":""}},[a("v-text-field",{attrs:{"prepend-icon":"person",placeholder:"Name"},model:{value:t.patients.name,callback:function(e){t.$set(t.patients,"name",e)},expression:"patients.name"}})],1)],1),a("v-flex",{attrs:{xs6:""}},[a("v-layout",{attrs:{"align-center":""}},[a("v-text-field",{attrs:{"prepend-icon":"book",placeholder:"File no"},model:{value:t.patients.file,callback:function(e){t.$set(t.patients,"file",e)},expression:"patients.file"}})],1)],1),a("v-flex",{attrs:{xs6:""}},[a("v-layout",{attrs:{"align-center":""}},[a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-text-field",t._g({attrs:{label:"Date of admission","prepend-icon":"event",readonly:""},model:{value:t.patients.dateOfAdmission,callback:function(e){t.$set(t.patients,"dateOfAdmission",e)},expression:"patients.dateOfAdmission"}},s))]}}]),model:{value:t.admissionModal,callback:function(e){t.admissionModal=e},expression:"admissionModal"}},[a("v-date-picker",{attrs:{landscape:!0,relative:!0},on:{input:function(e){t.admissionModal=!1}},model:{value:t.patients.dateOfAdmission,callback:function(e){t.$set(t.patients,"dateOfAdmission",e)},expression:"patients.dateOfAdmission"}})],1)],1)],1),a("v-flex",{attrs:{xs6:"","align-center":"","justify-space-between":""}},[a("v-layout",{attrs:{"align-center":""}},[a("v-avatar",{staticClass:"mr-3",attrs:{size:"40px"}},[a("v-icon",[t._v("person")])],1),a("v-select",{attrs:{items:["Male","Female"],label:"Gender"},model:{value:t.patients.sex,callback:function(e){t.$set(t.patients,"sex",e)},expression:"patients.sex"}})],1)],1),a("v-flex",{attrs:{xs6:"","align-center":"","justify-space-between":""}},[a("v-layout",{attrs:{"align-center":""}},[a("v-avatar",{staticClass:"mr-3",attrs:{size:"40px"}},[a("v-icon",[t._v("person")])],1),a("v-select",{attrs:{items:["Single","Married","Widow","Widower"],label:"Marital status"},model:{value:t.patients.mstatus,callback:function(e){t.$set(t.patients,"mstatus",e)},expression:"patients.mstatus"}})],1)],1),a("v-flex",{attrs:{xs6:"","align-center":"","justify-space-between":""}},[a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-text-field",t._g({attrs:{label:"Date of birth","prepend-icon":"event",readonly:""},model:{value:t.patients.dob,callback:function(e){t.$set(t.patients,"dob",e)},expression:"patients.dob"}},s))]}}]),model:{value:t.dobModal,callback:function(e){t.dobModal=e},expression:"dobModal"}},[a("v-date-picker",{attrs:{landscape:!0,relative:!0},on:{input:function(e){t.dobModal=!1}},model:{value:t.patients.dob,callback:function(e){t.$set(t.patients,"dob",e)},expression:"patients.dob"}})],1)],1),a("v-flex",{attrs:{xs6:"","align-center":"","justify-space-between":""}},[a("v-layout",{attrs:{"align-center":""}},[a("v-text-field",{attrs:{"prepend-icon":"telephone",placeholder:"Phone"},model:{value:t.patients.phone,callback:function(e){t.$set(t.patients,"phone",e)},expression:"patients.phone"}})],1)],1),a("v-flex",{attrs:{xs12:"","align-center":"","justify-space-between":""}},[a("v-layout",{attrs:{"align-center":""}},[a("v-text-field",{attrs:{"prepend-icon":"email",placeholder:"Email"},model:{value:t.patients.email,callback:function(e){t.$set(t.patients,"email",e)},expression:"patients.email"}})],1)],1),a("v-flex",{attrs:{xs12:"","align-center":"","justify-space-between":""}},[a("v-layout",{attrs:{"align-center":""}},[a("v-text-field",{attrs:{"prepend-icon":"location_on",placeholder:"Address"},model:{value:t.patients.address,callback:function(e){t.$set(t.patients,"address",e)},expression:"patients.address"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{flat:"",color:"primary"},on:{click:function(e){t.billing_dialog=!1}}},[t._v("Cancel")]),a("v-btn",{attrs:{flat:""},on:{click:t.saveBilling}},[t._v("Open account")])],1)],1)],1)],1)},je=[],Te=window.require("electron"),Oe=Te.remote,Ae=(Oe.BrowserWindow,window.require("electron").ipcRenderer),$e={data:function(){return{headers:[{text:"SN",align:"left",sortable:!1,value:"index"},{text:"Name",align:"left",sortable:!0,value:"name"},{text:"Card no",align:"left",sortable:!0,value:"card"},{text:"Total",value:"amount",sortable:!1,align:"left"},{text:"Date",value:"date",sortable:!1,align:"left"},{text:"Staff",value:"staff",sortable:!1,align:"left"},{text:"",value:"action",sortable:!1,align:"left"}],dobModal:!1,admissionModal:!1,filterForm:!1,list:[],date:(new Date).toISOString().substr(0,10),loadingDialog:!1,productSearchInput:"",error_dialog:!1,paynow_dialog:!1,billing_dialog:!1,message:"",patients:{code:"",name:"",file:"",dateOfAdmission:"",sex:"",dob:"",mstatus:"",email:"",phone:"",address:"",total:0,sync:!1,date:"",user:[],items:{date:"",amount:0,code:"",discount:0,inventory:0,name:"",qty:1,revenue:"",total:0,unit:"",user:[],payment:[]}}}},computed:Object(x["a"])({},Object(j["c"])(["domain","outlet","today","transCode","billings","paymentMethods"])),props:{source:String},methods:Object(x["a"])({},Object(j["b"])(["addBilling","getCode","getToday","checkStorage","saveStorage"]),{getList:function(){var t=this;this.list=this.list||[];var e,a={outlet:this.outlet};(w.a.post(this.domain+"/getBilling",a).then(function(e){e.data.status>0&&null!=e.data.response&&(t.list=e.data.response)}).catch(function(t){}),this.billings.length>0)&&(e=this.list).push.apply(e,Object(qt["a"])(this.billings))},searchProduct:function(){var t=this;this.list=this.billings.filter(function(e){return e.name.toLowerCase().includes(t.productSearchInput.toLowerCase())})},printReceipt:function(){for(var t="",e=0,a=Object(qt["a"])(document.querySelectorAll('link[rel="stylesheet"], style'));e<a.length;e++){var s=a[e];t+=s.outerHTML}var r=this.jQuery("#print").html();"<!DOCTYPE html>\n                        <html>\n                        <head>\n                            ".concat(t,"\n                        </head>\n                        <body>\n                            ").concat(r,"\n                        </body>\n                        </html>");Ae.send("readyToPrint")},createNewBilling:function(){this.billing_dialog=!0},saveBilling:function(){var t=this;if(this.patients.name.length<1||this.patients.dateOfAdmission.length<1)this.message="Name, file number and date of admission must be filled.",this.error_dialog=!0;else{this.patients.code=this.transCode,this.patients.date=this.today,this.patients.user=D.get("user"),this.billing_dialog=!1;var e={outlet:this.outlet,patient:this.patients};w.a.post(this.domain+"/postBilling",e).then(function(e){e.data.status>0&&(t.patients.sync=!0)}).catch(function(t){console.log(t)}),this.list.push(this.patients),this.addBilling(this.patients),this.initPatient()}},addPayment:function(t){D.set("bill",t),this.$router.push("/billing-list")},initPatient:function(){this.patients={code:"",name:"",file:"",dateOfAdmission:"",sex:"",dob:"",mstatus:"",email:"",phone:"",address:"",total:0,sync:!1,user:[],items:{}}}}),mounted:function(){this.getCode(),this.getToday(),this.getList()}},Be=$e,Fe=(a("1f8b"),Object(d["a"])(Be,Pe,je,!1,null,null,null)),Ie=Fe.exports;I()(Fe,{VApp:W["a"],VAvatar:z["a"],VBtn:H["a"],VCard:ht["a"],VCardActions:gt["a"],VCardTitle:bt["a"],VContainer:Q["a"],VDataTable:Kt["a"],VDatePicker:Gt["a"],VDialog:yt["a"],VDivider:K["a"],VFlex:R["a"],VIcon:G["a"],VLayout:M["a"],VMenu:he["a"],VSelect:Jt["a"],VSpacer:rt["a"],VTextField:wt["a"]});var Re=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{attrs:{id:"inspire"}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs8:"",id:"print"}},[a("v-flex",{attrs:{xs12:""}},[a("div",{staticClass:"page-header"},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs7:"",row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[t._v(t._s(t.patients.name)+" (File no:"+t._s(t.patients.file)+")")])],1),a("v-flex",{staticClass:"no-print",attrs:{xs5:"","justify-right":"","align-right":""}},[a("v-btn",{staticClass:"primary",on:{click:t.printReceipt}},[a("v-icon",[t._v("local_printshop")]),t._v("Print biilings")],1),a("v-btn",{staticClass:"red",on:{click:t.cancelBilling}},[a("v-icon",[t._v("chevron_left")]),t._v("Cancel")],1)],1)],1)],1)]),a("v-divider"),a("v-flex",{attrs:{xs12:""}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.items,"item-key":"customer.name"},scopedSlots:t._u([{key:"items",fn:function(e){return[a("tr",[a("td",[t._v(t._s(e.index+1))]),a("td",[t._v(t._s(e.item.code))]),a("td",[t._v(t._s(e.item.remark))]),a("td",[t._v(t._s(t._f("toDecimal")(e.item.total)))]),a("td",[t._v(t._s(e.item.date))]),a("td",[t._v(t._s(e.item.user.name))]),a("td",[a("v-btn",{on:{click:function(a){return t.viewItems(e.item)}}},[t._v("View added items")])],1)])]}}])})],1)],1),a("v-flex",{attrs:{xs4:""}},[a("v-card",[a("v-toolbar",[a("v-toolbar-title",[t._v("DETAIL BREAKDOWN")]),a("v-spacer")],1)],1),a("div",{staticClass:"portlet light"},[a("div",{staticClass:"portlet-body"},[a("div",{staticClass:"panel light panel-accent-blue"},[a("table",{staticClass:"table",attrs:{cellpadding:"5px",cellspacing:"5px"}},[a("thead",[a("tr",[a("th",[t._v("SN")]),a("th",[t._v("QTY")]),a("th",[t._v("Desc")]),a("th",[t._v("Subtotal")]),a("th",[t._v("Total")])])]),a("tbody",t._l(t.oldBilling.items,function(e,s){return a("tr",{key:s},[a("td",{staticStyle:{width:"20%"}},[t._v(t._s(s+1))]),a("td",{staticStyle:{"text-align":"right"}},[t._v(t._s(e.qty_sold))]),a("td",{staticStyle:{"text-align":"right"}},[t._v(t._s(e.name)),a("br"),t._v(t._s(e.tag))]),a("td",{staticStyle:{"text-align":"right"}},[t._v(t._s(t._f("toDecimal")(e.amount)))]),a("td",{staticStyle:{"text-align":"right"}},[t._v(t._s(t._f("toDecimal")(e.total)))])])}),0)]),a("v-divider")],1)])])],1)],1)],1)],1),a("v-dialog",{attrs:{width:"400px"},model:{value:t.error_dialog,callback:function(e){t.error_dialog=e},expression:"error_dialog"}},[a("v-card",{attrs:{"align-center":""}},[a("v-card-title",{staticClass:"grey lighten-4 py-4 title"},[t._v("\n          Error message\n          ")]),a("v-container",{staticClass:"pa-4",attrs:{"grid-list-sm":""}},[t._v("\n          "+t._s(t.message)+"\n          ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{flat:"",color:"primary"},on:{click:function(e){t.error_dialog=!1}}},[t._v("Close")])],1)],1)],1),a("v-dialog",{attrs:{width:"800px"},model:{value:t.paynow_dialog,callback:function(e){t.paynow_dialog=e},expression:"paynow_dialog"}},[a("v-card",{attrs:{"align-center":""}},[a("v-card-title",{staticClass:"grey lighten-4 py-4 title"},[t._v("\n          Select payment method\n          ")]),a("v-container",{staticClass:"pa-4",attrs:{"grid-list-sm":""}},[a("v-layout",{staticStyle:{"text-align":"center"},attrs:{row:"",wrap:""}},[a("v-card",[a("v-layout",{attrs:{row:"",wrap:""}},t._l(t.paymentMethods,function(e,s){return a("v-flex",{key:s,on:{click:function(a){return t.paynowHandler(e)}}},[a("v-card",{staticClass:"red thumbnail"},[a("v-container",{attrs:{"fill-height":"",fluid:"","pa-2":""}},[a("v-layout",{attrs:{"fill-height":""}},[a("v-flex",{attrs:{xs12:"","align-end":"",flexbox:""}},[a("span",{staticClass:"headline white--text",domProps:{textContent:t._s(e.name)}})])],1)],1)],1)],1)}),1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{flat:"",color:"primary"},on:{click:function(e){t.paynow_dialog=!1}}},[t._v("Cancel")])],1)],1)],1)],1)},Me=[],qe=window.require("electron"),Ne=qe.remote,Le=(Ne.BrowserWindow,window.require("electron").ipcRenderer),Ee={data:function(){return{headers:[{text:"SN",align:"left",sortable:!1,value:"index"},{text:"Code",align:"left",sortable:!0,value:"code"},{text:"Description",align:"left",sortable:!0,value:"desc"},{text:"Amount",value:"amount",sortable:!1,align:"left"},{text:"Date",value:"date",sortable:!1,align:"left"},{text:"Collector",value:"collector",sortable:!1,align:"left"},{text:"",value:"action",sortable:!1,align:"left"}],loadingDialog:!1,isPaid:!1,viewReceipt:!1,paymentmethod:[],productSearchInput:"",showButton:!1,error_dialog:!1,paynow_dialog:!1,billing_dialog:!1,message:"",items:[],list:[],patients:[],oldBilling:[]}},computed:Object(x["a"])({},Object(j["c"])(["domain","today","transCode","billings","outlet","paymentMethods"])),components:{Receipt:Ht},props:{source:String},methods:Object(x["a"])({},Object(j["b"])(["addBilling","getCode","getToday","checkStorage","updateBilling"]),{getList:function(){var t=this;this.patients=D.get("bill"),w.a.post(this.domain+"/getBillingItems",this.patients).then(function(e){e.data.status>0&&(t.items=e.data.response)}).catch(function(t){})},printReceipt:function(){for(var t="",e=0,a=Object(qt["a"])(document.querySelectorAll('link[rel="stylesheet"], style'));e<a.length;e++){var s=a[e];t+=s.outerHTML}var r=this.jQuery("#print").html();"<!DOCTYPE html>\n                        <html>\n                        <head>\n                            ".concat(t,"\n                        </head>\n                        <body>\n                            ").concat(r,"\n                        </body>\n                        </html>");Le.send("readyToPrint")},putTotal:function(){this.cartBilling.total=this.cartBilling.amount-this.cartBilling.discount},makePayment:function(){var t=D.get("user");this.cartBilling.user=t,this.cartBilling.amount&&this.cartBilling.name?(this.paynow_dialog=!0,this.isPaid=!1):(this.message="Kindly enter payment details.",this.error_dialog=!0)},viewItems:function(t){this.oldBilling=t},emptyCart:function(){this.cartBilling={date:"",amount:0,code:Math.floor(1e9*Math.random()+1),discount:0,inventory:0,name:"",qty:1,revenue:"",total:0,unit:"",user:[],payment:[]}},cancelBilling:function(){D.remove("bill"),this.$router.push("/billing")}}),mounted:function(){this.getCode(),this.getToday(),this.getList()}},Ue=Ee,We=(a("83f3"),Object(d["a"])(Ue,Re,Me,!1,null,null,null)),ze=We.exports;I()(We,{VApp:W["a"],VBtn:H["a"],VCard:ht["a"],VCardActions:gt["a"],VCardTitle:bt["a"],VContainer:Q["a"],VDataTable:Kt["a"],VDialog:yt["a"],VDivider:K["a"],VFlex:R["a"],VIcon:G["a"],VLayout:M["a"],VSpacer:rt["a"],VToolbar:it["a"],VToolbarTitle:ot["a"]});var He=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{attrs:{id:"inspire"}},[a("v-content",[a("v-container",{attrs:{fluid:"","fill-height":""}},[a("v-layout",{attrs:{"align-center":"","justify-center":""}},[a("v-flex",{attrs:{xs12:"",md7:""}},[a("v-flex",{attrs:{xs11:"",row:"",wrap:""}},t._l(t.outlet.app_type,function(e,s){return a("v-flex",{key:s,on:{click:function(a){return t.setupPaypoint(e)}}},[a("v-card",{staticClass:"red thumbnail"},[a("v-container",{attrs:{"fill-height":"",fluid:"","pa-2":""}},[a("v-layout",{attrs:{"fill-height":""}},[a("v-flex",{attrs:{xs12:"","align-end":"",flexbox:""}},[a("span",{staticClass:"headline white--text",domProps:{textContent:t._s(e.name)}})])],1)],1)],1)],1)}),1)],1)],1)],1)],1),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.failed,callback:function(e){t.failed=e},expression:"failed"}},[a("v-card",[a("v-card-title",[t._v("\n        Message\n      ")]),a("v-card-text",[t._v("\n        "+t._s(t.message)+"\n      ")]),a("v-card-actions",{attrs:{"align-right":""}},[a("v-btn",{attrs:{color:"primary",flat:""},on:{click:function(e){t.failed=!1}}},[t._v("Close")])],1)],1)],1),a("v-dialog",{attrs:{"hide-overlay":"",persistent:"",width:"300"},model:{value:t.loadingDialog,callback:function(e){t.loadingDialog=e},expression:"loadingDialog"}},[a("v-card",{attrs:{color:"primary",dark:""}},[a("v-card-text",[t._v("\n        Authenticating paypoint.\n        "),a("v-progress-linear",{staticClass:"mb-0",attrs:{indeterminate:"",color:"white"}})],1)],1)],1)],1)},Qe=[],Ye=void 0,Ke={data:function(){return{drawer:null,paypoints:[1,2,3,4,5,6,7,8,9,10],hospital:{code:"",paypoint:1,domain:""},loadingDialog:!1,failed:!1,message:""}},props:{source:String},computed:Object(x["a"])({},Object(j["c"])(["outlet","domain"]),{outletExists:function(){return Ye.outlet.length>0}}),methods:Object(x["a"])({},Object(j["b"])(["addOutlet","addUsers","getDomain","addProduct","addpaymentMethods","checkStorage","saveStorage"]),{loadLogin:function(){this.$router.push("/")},setupPaypoint:function(t){var e=this;if(""!=this.hospital.code){this.loadingDialog=!0;var a={outlet:this.outlet,app:t};w.a.post(this.domain+"/getType",a).then(function(a){a.data.status>0?(e.addOutlet(a.data.response.outlet),e.addProduct(a.data.response.product),e.addUsers(a.data.response.users,!1),e.outlet.app_type=t,e.message=a.data.message,e.loadingDialog=!1,e.$router.push("/")):(e.loadingDialog=!1,e.failed=!0,e.message=a.data.message)}).catch(function(t){console.log(t),e.message="Error occured while trying to save Paypoint detail",e.loadingDialog=!1,e.failed=!0})}}}),mounted:function(){this.checkStorage(),this.getDomain(),this.hospital.code=this.outlet.code,this.hospital.domain=this.domain}},Ge=Ke,Je=Object(d["a"])(Ge,He,Qe,!1,null,null,null),Ze=Je.exports;I()(Je,{VApp:W["a"],VBtn:H["a"],VCard:ht["a"],VCardActions:gt["a"],VCardText:gt["b"],VCardTitle:bt["a"],VContainer:Q["a"],VContent:Y["a"],VDialog:yt["a"],VFlex:R["a"],VLayout:M["a"],VProgressLinear:_t["a"]});var Xe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{attrs:{id:"inspire"}},[a("v-layout",[t.isPaid?a("v-layout",{attrs:{row:"",wrap:""}},[a("receipt",{staticStyle:{width:"100%"},on:{closePrinter:t.closeReceipt}})],1):a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs8:""}},[a("v-toolbar",{attrs:{row:""}},[a("v-text-field",{staticClass:"mx-3",attrs:{"append-icon":"search",flat:"",label:"Search","prepend-inner-icon":"search","solo-inverted":""},on:{input:t.searchProduct},model:{value:t.productSearchInput,callback:function(e){t.productSearchInput=e},expression:"productSearchInput"}})],1),a("v-layout",{staticStyle:{"text-align":"center"},attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},t._l(t.tab,function(e,s){return a("v-btn",{key:s,attrs:{flat:""},on:{click:function(a){return t.pushRightItem(e)}}},[t._v(t._s(e))])}),1)],1),a("div",{staticClass:"portlet light"},[a("div",{staticClass:"portlet-body"},[a("div",{staticClass:"panel light",staticStyle:{height:"540px"}},[a("div",{staticClass:"cart-panel list-group scroller",staticStyle:{height:"540px !important"},attrs:{visible:1}},[a("v-layout",{attrs:{row:"",wrap:""}})],1)])])])],1),a("v-flex",{attrs:{xs4:""}},[a("v-card",[t.carts.billed?t._e():a("span",{attrs:{right:""}},[a("v-btn",{staticClass:"blue",attrs:{flat:""},on:{click:function(e){return t.addBill(t.carts.id)}}},[t._v("Attach billing")])],1),t.carts.billed?a("span",{attrs:{right:""}},[a("v-btn",{staticClass:"red",attrs:{flat:""},on:{click:function(e){return t.removeBill(t.carts.id)}}},[t._v("Remove billing")])],1):t._e(),t.carts.customer.name?t._e():a("span",{attrs:{right:""}},[a("v-btn",{staticClass:"blue",attrs:{flat:""},on:{click:function(e){return t.addCustomer(t.carts.id)}}},[t._v("Add Customer")])],1),a("v-toolbar",[a("v-toolbar-title",[t._v("CHECKOUT")]),a("v-spacer"),t.carts.customer.name?a("span",{attrs:{right:""}},[a("v-btn",{attrs:{flat:""},on:{click:function(e){return t.addCustomer(t.carts.id)}}},[t._v(t._s(t.carts.customer.name))])],1):t._e()],1)],1),a("div",{staticClass:"portlet light"},[a("div",{staticClass:"portlet-body"},[a("div",{staticClass:"panel light panel-accent-blue"},[a("div",{staticClass:"cart-panel list-group scroller",attrs:{visible:1}},t._l(t.cartItem,function(e,s){return a("carts",{key:e.id,attrs:{cartIndex:s,cart:e},on:{updateCartQty:t.updateQty,deleteCartItem:t.deleteItem,updateCartDiscount:t.updateDiscount}})}),1),a("div",{staticClass:"panel-footer"},[a("table",{staticClass:"table table-hover",attrs:{cellpadding:"5px",cellspacing:"5px"}},[a("tbody",[a("tr",[a("td",{attrs:{colspan:"2"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.carts.remark,expression:"carts.remark"}],staticClass:"form-control",attrs:{type:"text",name:"remarks",placeholder:"Add your remark"},domProps:{value:t.carts.remark},on:{input:function(e){e.target.composing||t.$set(t.carts,"remark",e.target.value)}}})])]),a("tr",[a("td",{staticStyle:{width:"90%"}},[a("span",[t._v("Sub-Total")])]),a("td",{staticStyle:{"text-align":"right"}},[t._v("\n                        ₦"+t._s(t._f("toDecimal")(t.carts.subtotal))+"\n                      ")])]),a("tr",[a("td",{staticStyle:{width:"90%"}},[a("v-flex",{attrs:{xs12:"",row:""}},[a("v-flex",{attrs:{xs3:""}},[t._v("Discount")]),a("v-flex",{attrs:{xs9:""}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.carts.overallDiscount,expression:"carts.overallDiscount"}],staticClass:"form-control",attrs:{type:"text",name:"discount",placeholder:"Discount"},domProps:{value:t.carts.overallDiscount},on:{input:[function(e){e.target.composing||t.$set(t.carts,"overallDiscount",e.target.value)},t.updateTotDiscount]}})])],1)],1),a("td",{staticStyle:{"text-align":"right"}},[t._v("\n                        ₦"+t._s(t._f("toDecimal")(t.carts.discount))+"\n                      ")])]),a("tr",[a("td",{staticStyle:{width:"90%"}},[a("span",[t._v("VAT")])]),a("td",{staticStyle:{"text-align":"right"}},[t._v("\n                        ₦"+t._s(t._f("toDecimal")(t.carts.vat))+"\n                      ")])])])])])]),t.isPaid?t._e():a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-9 btn-group pull-left",attrs:{"data-disabled-element":"!carts.code"}},[a("button",{staticClass:"btn blue btn-lg col-md-12 pay-button",staticStyle:{"font-size":"18px"},attrs:{type:"button",disabled:!t.isCartNotEmpty},on:{click:t.makePayment}},[a("span",{staticClass:"col-md-3",staticStyle:{"text-align":"left !important"}},[t._v("Paynow ")]),a("span",{staticClass:"col-md-9 amount",staticStyle:{"text-align":"right !important"}},[t._v("₦ "+t._s(t._f("toDecimal")(t.carts.total))+"\n                  ")])])]),a("div",{staticClass:"col-md-3 btn-group pull-right"},[a("button",{staticClass:"btn red btn-lg col-md-12 pay-button",attrs:{type:"button",disabled:!t.isCartNotEmpty},on:{click:t.emptyCart}},[a("v-icon",[t._v("delete_sweep")])],1)])]),t.isPaid?a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-10 btn-group pull-left",attrs:{disabled:!t.carts.code,id:"print-receipt"}},[a("button",{staticClass:"btn blue col-md-12",staticStyle:{width:"80%",height:"50px","font-weight":"bold","text-align":"left"},attrs:{type:"button"},on:{click:function(e){return t.prints()}}},[t._v("\n                  Print Receipt "),a("span",{staticClass:"icon-print"})])]),a("div",{staticClass:"col-md-2",attrs:{"data-disabled-element":"!carts.code"}},[a("button",{staticClass:"btn red pull-right",staticStyle:{height:"50px"},attrs:{type:"button"},on:{click:function(e){return t.clear()}}},[t._v("\n                  Clear Cart "),a("span",{staticClass:"icon-cancel"})])])]):t._e()])])],1)],1)],1),a("v-dialog",{attrs:{width:"600px"},model:{value:t.customer_dialog,callback:function(e){t.customer_dialog=e},expression:"customer_dialog"}},[a("v-card",[a("v-card-title",{staticClass:"grey lighten-4 py-4 title"},[t._v("\n        Add new customer\n      ")]),a("v-container",{staticClass:"pa-4",attrs:{"grid-list-sm":""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs8:""}},[a("v-layout",{attrs:{"align-center":""}},[a("v-text-field",{attrs:{"prepend-icon":"person",placeholder:"Name"},model:{value:t.carts.customer.name,callback:function(e){t.$set(t.carts.customer,"name",e)},expression:"carts.customer.name"}})],1)],1),a("v-flex",{attrs:{xs4:""}},[a("v-layout",{attrs:{"align-center":""}},[a("v-text-field",{attrs:{"prepend-icon":"book",placeholder:"File no"},model:{value:t.carts.customer.file,callback:function(e){t.$set(t.carts.customer,"file",e)},expression:"carts.customer.file"}})],1)],1),a("v-flex",{attrs:{xs6:"","align-center":"","justify-space-between":""}},[a("v-layout",{attrs:{"align-center":""}},[a("v-avatar",{staticClass:"mr-3",attrs:{size:"40px"}},[a("v-icon",[t._v("person")])],1),a("v-select",{attrs:{items:["Male","Female"],label:"Gender"},model:{value:t.carts.customer.sex,callback:function(e){t.$set(t.carts.customer,"sex",e)},expression:"carts.customer.sex"}})],1)],1),a("v-flex",{attrs:{xs6:"","align-center":"","justify-space-between":""}},[a("v-layout",{attrs:{"align-center":""}},[a("v-avatar",{staticClass:"mr-3",attrs:{size:"40px"}},[a("v-icon",[t._v("person")])],1),a("v-select",{attrs:{items:["Single","Married","Widow","Widower"],label:"Marital status"},model:{value:t.carts.customer.mstatus,callback:function(e){t.$set(t.carts.customer,"mstatus",e)},expression:"carts.customer.mstatus"}})],1)],1),a("v-flex",{attrs:{xs6:"","align-center":"","justify-space-between":""}},[a("v-dialog",{ref:"dialog",attrs:{"return-value":t.date,persistent:"",lazy:"","full-width":"",width:"290px"},on:{"update:returnValue":function(e){t.date=e},"update:return-value":function(e){t.date=e}},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-text-field",t._g({attrs:{label:"DOB","prepend-icon":"event",readonly:""},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}},s))]}}]),model:{value:t.modal,callback:function(e){t.modal=e},expression:"modal"}},[a("v-date-picker",{attrs:{scrollable:""},model:{value:t.carts.customer.dob,callback:function(e){t.$set(t.carts.customer,"dob",e)},expression:"carts.customer.dob"}},[a("v-spacer"),a("v-btn",{attrs:{flat:"",color:"primary"},on:{click:function(e){t.modal=!1}}},[t._v("Cancel")]),a("v-btn",{attrs:{flat:"",color:"primary"},on:{click:function(e){return t.$refs.dialog.save(t.date)}}},[t._v("OK")])],1)],1)],1),a("v-flex",{attrs:{xs6:"","align-center":"","justify-space-between":""}},[a("v-layout",{attrs:{"align-center":""}},[a("v-text-field",{attrs:{"prepend-icon":"telephone",placeholder:"Phone"},model:{value:t.carts.customer.phone,callback:function(e){t.$set(t.carts.customer,"phone",e)},expression:"carts.customer.phone"}})],1)],1),a("v-flex",{attrs:{xs12:"","align-center":"","justify-space-between":""}},[a("v-layout",{attrs:{"align-center":""}},[a("v-text-field",{attrs:{"prepend-icon":"email",placeholder:"Email"},model:{value:t.carts.customer.email,callback:function(e){t.$set(t.carts.customer,"email",e)},expression:"carts.customer.email"}})],1)],1),a("v-flex",{attrs:{xs12:"","align-center":"","justify-space-between":""}},[a("v-layout",{attrs:{"align-center":""}},[a("v-text-field",{attrs:{"prepend-icon":"location_on",placeholder:"Address"},model:{value:t.carts.customer.address,callback:function(e){t.$set(t.carts.customer,"address",e)},expression:"carts.customer.address"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{flat:"",color:"primary"},on:{click:function(e){t.customer_dialog=!1}}},[t._v("Cancel")]),a("v-btn",{attrs:{flat:""},on:{click:t.saveCusttomer}},[t._v("Save")])],1)],1)],1),a("v-dialog",{attrs:{width:"800px"},model:{value:t.paynow_dialog,callback:function(e){t.paynow_dialog=e},expression:"paynow_dialog"}},[a("v-card",{attrs:{"align-center":""}},[a("v-card-title",{staticClass:"grey lighten-4 py-4 title"},[t._v("\n        Select payment method\n      ")]),a("v-container",{staticClass:"pa-4",attrs:{"grid-list-sm":""}},[a("v-layout",{staticStyle:{"text-align":"center"},attrs:{row:"",wrap:""}},[a("v-card",[a("v-layout",{attrs:{row:"",wrap:""}},t._l(t.paymentmethod,function(e,s){return a("v-flex",{key:s,on:{click:function(a){return t.paynowHandler(e)}}},[a("v-card",{staticClass:"red thumbnail"},[a("v-container",{attrs:{"fill-height":"",fluid:"","pa-2":""}},[a("v-layout",{attrs:{"fill-height":""}},[a("v-flex",{attrs:{xs12:"","align-end":"",flexbox:""}},[a("span",{staticClass:"headline white--text",domProps:{textContent:t._s(e.name)}})])],1)],1)],1)],1)}),1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{flat:"",color:"primary"},on:{click:function(e){t.paynow_dialog=!1}}},[t._v("Cancel")])],1)],1)],1),a("v-dialog",{attrs:{width:"860px"},model:{value:t.billing_dialog,callback:function(e){t.billing_dialog=e},expression:"billing_dialog"}},[a("v-card",{attrs:{"align-center":""}},[a("v-card-title",{staticClass:"grey lighten-4 py-4 title"},[t._v("\n        Select patient bill\n      ")]),a("v-container",{staticClass:"pa-4",attrs:{"grid-list-sm":""}},[a("v-layout",{staticStyle:{"text-align":"center"},attrs:{row:"",wrap:""}},[a("v-card",[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.bHeaders,items:t.billings,"item-key":"name"},scopedSlots:t._u([{key:"items",fn:function(e){return[a("tr",[a("td",[t._v(t._s(e.index+1))]),a("td",[t._v(t._s(e.item.code))]),a("td",[t._v(t._s(e.item.name))]),a("td",[t._v(t._s(e.item.file))]),a("td",[t._v(t._s(t._f("toDecimal")(e.item.total)))]),a("td",[t._v(t._s(e.item.date))]),a("td",[t._v(t._s(e.item.user.name))]),a("td",[a("v-btn",{on:{click:function(a){return t.attachCustomerBill(e.item)}}},[t._v("attach bills")])],1)])]}}])})],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{flat:"",color:"primary"},on:{click:function(e){t.billing_dialog=!1}}},[t._v("Cancel")])],1)],1)],1),a("v-dialog",{attrs:{width:"400px"},model:{value:t.error_dialog,callback:function(e){t.error_dialog=e},expression:"error_dialog"}},[a("v-card",{attrs:{"align-center":""}},[a("v-card-title",{staticClass:"grey lighten-4 py-4 title"},[t._v("\n        Error message\n      ")]),a("v-container",{staticClass:"pa-4",attrs:{"grid-list-sm":""}},[t._v("\n        "+t._s(t.message)+"\n      ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{flat:"",color:"primary"},on:{click:function(e){t.error_dialog=!1}}},[t._v("Close")])],1)],1)],1)],1)},ta=[],ea={data:function(){return{tabs:null,customer_dialog:!1,productSearchInput:"",productsFilter:[],isPaid:!1,isSalesOpen:!0,paynow_dialog:!1,error_dialog:!1,service_dialog:!1,billing_dialog:!1,message:"",paymentmethod:[],date:(new Date).toISOString().substr(0,10),modal:!1,tab:[],bHeaders:[{text:"SN",align:"left",sortable:!1,value:"index"},{text:"Code",align:"left",sortable:!1,value:"code"},{text:"Name",align:"left",sortable:!0,value:"name"},{text:"Card no",align:"left",sortable:!0,value:"card"},{text:"Amount",value:"amount",sortable:!1,align:"left"},{text:"Date",value:"date",sortable:!1,align:"left"},{text:"Collector",value:"collector",sortable:!1,align:"left"},{text:"",value:"action",sortable:!1,align:"left"}],carts:{code:"",subtotal:0,overallDiscount:0,discount:0,vat:0,total:0,remark:"",paid:!1,sync:!1,date:"",billed:!1,customer:{id:0,name:"",file:"",sex:"",dob:"",mstatus:"",email:"",phone:"",type:0,address:""},bill:[],user:[],items:[],payment:[]}}},computed:Object(x["a"])({},Object(j["c"])(["outlet","domain","billings","products","today","transCode","paymentMethods","unsyncCart","cart","users"]),{cartItem:function(){return this.carts.items},isCartNotEmpty:function(){return this.carts.items.length>0}}),components:{Carts:It,Receipt:Ht},props:{source:String},methods:Object(x["a"])({},Object(j["b"])(["addProduct","getDomain","addCart","padBills","deleteCart","getCode","getToday","addpaymentMethods","checkStorage","deleteBilling","saveStorage"]),{loadProduct:function(){for(var t in this.products)this.tab.push(t);this.pushRightItem(this.tab[0])},loadMethod:function(){this.paymentmethod=this.paymentMethods},pushRightItem:function(t){this.productsFilter=this.products[t],this.productSearchInput=""},searchProduct:function(){var t=this,e=[];for(var a in this.products)this.products[a]&&e.push(this.products[a]);e=[].concat.apply([],e),this.productsFilter=e.filter(function(e){return e.name.toLowerCase().includes(t.productSearchInput.toLowerCase())})},addProduct:function(t){if(this.carts.items.length>0){var e=this.carts.items.findIndex(function(e){return e.revenue==t["revenue"]});e>-1?(this.carts.items[e]["qty"]+=1,this.carts.items[e]["total"]=this.carts.items[e]["amount"]*this.carts.items[e]["qty"]):(t["qty"]=1,t["total"]=t["amount"]*t["qty"],t["discount"]=0,this.carts.items.push(t))}else t["qty"]=1,t["total"]=t["amount"]*t["qty"],t["discount"]=0,this.carts.items.push(t);this.calculateSummary()},SaveItems:function(){var t=new FormData;t.append("carts",y()(this.carts))},makePayment:function(){var t=D.get("user");this.carts.user=t,this.carts.customer.file||(this.getCode(),this.carts.customer.file=this.transCode),this.carts.customer.name&&this.carts.customer.file?(this.paynow_dialog=!0,this.isPaid=!1):(this.message="Kindly register payee details and attach to this payment",this.error_dialog=!0,this.customer_dialog=!0)},paynowHandler:function(t){var e=this;this.getCode(),this.getToday(),this.carts.code=this.transCode,this.carts.payment=t,this.carts.date=this.today,D.set("cart",this.carts);var a={outlet:this.outlet,carts:this.carts};w.a.post(this.domain+"/postBookingCart",a).then(function(t){console.log(t.data),t.data.status>0&&(e.carts.sync=!0)}).catch(function(t){console.log(t)}),this.carts.billed&&this.deleteBilling(this.carts.bill),this.paynow_dialog=!1,this.isPaid=!0,this.addCart(this.carts)},addCustomer:function(){this.customer_dialog=!0},addBill:function(){this.billing_dialog=!0},removeBill:function(){this.carts.customer.file="",this.carts.customer.name="",this.carts.billed=!1,this.carts.discount=""},attachCustomerBill:function(t){this.carts.customer.file=t.file,this.carts.customer.name=t.name,this.carts.remark="Discount of # ".concat(this.$options.filters.toDecimal(t.total)," being part payments from billing"),this.carts.billed=!0,this.carts.overallDiscount=t.total,this.billing_dialog=!1,this.calculateSummary()},saveCusttomer:function(){this.carts.customer.name&&this.carts.customer.file&&(this.customer_dialog=!1,this.carts.items&&(this.paynow_dialog=!0,this.isPaid=!1))},editDiscountModalModal:function(){},deleteItem:function(t){this.carts.items.splice(t.index,1),this.calculateSummary()},updateQty:function(t){this.carts.items[t.index]["total"]=this.carts.items[t.index]["amount"]*this.carts.items[t.index]["qty"],this.calculateSummary()},updateTotDiscount:function(){this.calculateSummary()},updateDiscount:function(t){this.carts.items[t.index]["total"]=this.carts.items[t.index]["total"]-this.carts.items[t.index]["discount"],this.calculateSummary()},parkSales:function(){var t=D.get("packedsales");t?(t.push(this.carts),D.set("packedsales",this.carts)):D.set("packedsales",this.carts),this.emptyCart()},emptyCart:function(){this.carts={id:0,code:"",subtotal:0,overallDiscount:0,discount:0,vat:0,total:0,remark:"",customer:{id:0,name:"",email:"",phone:"",type:0},items:[]}},calculateSummary:function(){for(var t=0,e=0,a=0,s=0;s<this.carts.items.length;s++)t+=Tt()(this.carts.items[s].qty),a+=Pt()(this.carts.items[s].total),e+=Pt()(this.carts.items[s].discount);this.carts.subtotal=a,this.carts.discount=this.carts.overallDiscount+e,this.carts.qty=t,this.carts.total=a-this.carts.overallDiscount,D.remove("currentCart"),D.set("currentCart",y()(this.carts)),this.SaveItems()},closeReceipt:function(t){D.remove("cart"),this.isPaid=t,this.emptyCart()}}),mounted:function(){this.checkStorage(),this.getDomain(),this.loadProduct(),this.loadMethod();var t=D.get("cart");t&&(this.paynow_dialog=!1,this.isPaid=!0)}},aa=ea,sa=(a("c80f"),Object(d["a"])(aa,Xe,ta,!1,null,null,null)),ra=sa.exports;I()(sa,{VApp:W["a"],VAvatar:z["a"],VBtn:H["a"],VCard:ht["a"],VCardActions:gt["a"],VCardTitle:bt["a"],VContainer:Q["a"],VDataTable:Kt["a"],VDatePicker:Gt["a"],VDialog:yt["a"],VFlex:R["a"],VIcon:G["a"],VLayout:M["a"],VSelect:Jt["a"],VSpacer:rt["a"],VTextField:wt["a"],VToolbar:it["a"],VToolbarTitle:ot["a"]});var ia=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-app",{attrs:{id:"inspire"}},[s("v-layout",{attrs:{"align-center":"","justify-center":""}},[s("v-flex",{attrs:{xs12:"",sm8:"",md4:""}},[s("v-card",{staticClass:"elevation-12"},[s("v-toolbar",{attrs:{dark:"",color:"primary"}},[s("v-toolbar-title",[t._v("Update user account")]),s("v-spacer")],1),s("v-card-text",[s("v-form",[s("v-flex",{staticStyle:{"text-align":"center"},attrs:{xs12:""}},[s("v-btn",{attrs:{icon:"",large:""}},[s("v-avatar",{attrs:{size:"82px",tile:""}},[s("img",{attrs:{src:a("c121"),alt:"Adewumi Adedeji"}})])],1)],1),s("br"),s("v-text-field",{attrs:{"prepend-icon":"person",name:"person",label:"Name",type:"text"},model:{value:t.user.name,callback:function(e){t.$set(t.user,"name",e)},expression:"user.name"}}),s("v-text-field",{attrs:{"prepend-icon":"person",name:"email",label:"Username",type:"text"},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),s("v-text-field",{attrs:{"prepend-icon":"person",name:"telephone",label:"Phone number",type:"text"},model:{value:t.user.phone,callback:function(e){t.$set(t.user,"phone",e)},expression:"user.phone"}}),s("v-text-field",{attrs:{"prepend-icon":"lock",name:"password",label:"Password",type:"password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1)],1),s("v-card-actions",[s("v-spacer"),s("v-btn",{attrs:{color:"primary"},on:{click:t.updateProfile}},[t._v("Update")])],1)],1)],1)],1),s("v-dialog",{attrs:{width:"400px"},model:{value:t.error_dialog,callback:function(e){t.error_dialog=e},expression:"error_dialog"}},[s("v-card",{attrs:{"align-center":""}},[s("v-card-title",{staticClass:"grey lighten-4 py-4 title"},[t._v("\n          Error message\n          ")]),s("v-container",{staticClass:"pa-4",attrs:{"grid-list-sm":""}},[t._v("\n          "+t._s(t.message)+"\n          ")]),s("v-card-actions",[s("v-spacer"),s("v-btn",{attrs:{flat:"",color:"primary"},on:{click:function(e){t.error_dialog=!1}}},[t._v("Close")])],1)],1)],1)],1)},na=[],oa=window.require("electron"),la=oa.remote,ca=(la.BrowserWindow,window.require("electron").ipcRenderer,{data:function(){return{error_dialog:!1,username:"",extension:"",password:"",user:[],message:""}},computed:Object(x["a"])({},Object(j["c"])(["domain","users"])),props:{source:String},methods:Object(x["a"])({},Object(j["b"])(["checkStorage","addUsers"]),{updateProfile:function(){var t=this,e=this.users.findIndex(function(e){return e.email==t.user.email});this.password.length>0&&(this.user.password=V(this.password)),this.username.length>0&&(this.user.email=this.username+"@"+this.extension),w.a.post(this.domain+"/user",this.user).then(function(a){a.data.status>0&&(t.users.splice(e,1),t.users.push(t.user),t.addUsers(t.users),D.set("user",t.user)),t.message=a.data.message,t.error_dialog=!0}).catch(function(e){console.log(e),t.message=e,t.error_dialog=!0})}}),mounted:function(){this.user=D.get("user"),this.username=this.user.email.substring(0,this.user.email.indexOf("@")),this.extension=this.user.email.split("@")[1]}}),da=ca,ua=(a("16c0"),Object(d["a"])(da,ia,na,!1,null,null,null)),pa=ua.exports;I()(ua,{VApp:W["a"],VAvatar:z["a"],VBtn:H["a"],VCard:ht["a"],VCardActions:gt["a"],VCardText:gt["b"],VCardTitle:bt["a"],VContainer:Q["a"],VDialog:yt["a"],VFlex:R["a"],VForm:xt["a"],VLayout:M["a"],VSpacer:rt["a"],VTextField:wt["a"],VToolbar:it["a"],VToolbarTitle:ot["a"]});var va=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{attrs:{id:"inspire"}},[a("v-layout",[t.viewReceipt?a("v-layout",{attrs:{row:"",wrap:""}},[a("receipt",{staticStyle:{width:"100%"},on:{closePrinter:t.closeReceipt}})],1):a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:"",id:"print"}},[a("v-flex",{staticStyle:{"background-color":"#F0F8FF"},attrs:{xs12:""}},[a("div",{staticClass:"page-header"},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs8:"",row:"",wrap:""}},[a("v-flex",{attrs:{xs9:""}},[t._v("\n                  Requisition\n                ")])],1),a("v-flex",{staticClass:"no-print",attrs:{xs4:"","justify-right":"","align-right":""}},[a("v-btn",{attrs:{primary:""},on:{click:t.showFilterForm}},[a("v-icon",[t._v("bar_chart")]),t._v("Filter report")],1),a("v-btn",{attrs:{primary:""},on:{click:t.printReceipt}},[a("v-icon",[t._v("local_printshop")]),t._v("Print report")],1)],1)],1)],1)]),a("v-divider"),t.filterForm?a("v-flex",{attrs:{xs12:""}},[a("div",{staticClass:"page-header"},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs2:"","align-center":"","justify-space-between":""}},[a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-text-field",t._g({attrs:{label:"From","prepend-icon":"event",readonly:""},model:{value:t.parameters.from,callback:function(e){t.$set(t.parameters,"from",e)},expression:"parameters.from"}},s))]}}],null,!1,1998651981),model:{value:t.modalFrom,callback:function(e){t.modalFrom=e},expression:"modalFrom"}},[a("v-date-picker",{attrs:{landscape:!0,relative:!0},on:{input:function(e){t.modalFrom=!1}},model:{value:t.parameters.from,callback:function(e){t.$set(t.parameters,"from",e)},expression:"parameters.from"}})],1)],1),a("v-flex",{attrs:{xs2:"","align-center":"","justify-space-between":""}},[a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-text-field",t._g({attrs:{label:"To","prepend-icon":"event",readonly:""},model:{value:t.parameters.to,callback:function(e){t.$set(t.parameters,"to",e)},expression:"parameters.to"}},s))]}}],null,!1,1163986349),model:{value:t.modalTo,callback:function(e){t.modalTo=e},expression:"modalTo"}},[a("v-date-picker",{attrs:{landscape:!0,relative:!0},on:{input:function(e){t.modalTo=!1}},model:{value:t.parameters.to,callback:function(e){t.$set(t.parameters,"to",e)},expression:"parameters.to"}})],1)],1),a("v-flex",{attrs:{xs4:"","align-center":"","justify-space-between":""}},[a("v-layout",{attrs:{"align-center":""}},[a("v-text-field",{attrs:{"prepend-icon":"code",placeholder:"Payment code or Card no"},model:{value:t.parameters.code,callback:function(e){t.$set(t.parameters,"code",e)},expression:"parameters.code"}})],1)],1),1==t.me.acct_type?a("v-flex",{attrs:{xs2:"","align-center":"","justify-space-between":""}},[a("v-layout",{attrs:{"align-center":""}},[a("v-select",{attrs:{items:t.users,"item-text":"name","item-value":"id","prepend-icon":"person",label:"Collector"},model:{value:t.parameters.collector,callback:function(e){t.$set(t.parameters,"collector",e)},expression:"parameters.collector"}})],1)],1):t._e(),a("v-flex",{attrs:{xs2:"","align-center":"","justify-space-between":""}},[a("v-layout",{attrs:{"align-center":""}},[a("v-btn",{staticClass:"btn",on:{click:t.loadReport}},[a("v-icon",[t._v("search")]),t._v(" Search\n                  ")],1)],1)],1)],1)],1),a("v-divider")],1):t._e(),a("v-flex",{attrs:{xs12:""}},[t.list?a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.list,"item-key":"name"},scopedSlots:t._u([{key:"items",fn:function(e){return[a("tr",[a("td",[t._v(t._s(e.index+1))]),a("td",[t._v(t._s(e.item.code))]),a("td",[t._v(t._s(e.item.customer.name))]),a("td",[t._v(t._s(e.item.customer.file))]),a("td",[t._v(t._s(t.description(e.item.items)))]),a("td",[t._v(t._s(t._f("toDecimal")(e.item.subtotal)))]),a("td",[t._v(t._s(t._f("toDecimal")(e.item.discount)))]),a("td",[t._v(t._s(t._f("toDecimal")(e.item.vat)))]),a("td",[t._v(t._s(t._f("toDecimal")(e.item.total)))]),a("td",[t._v(t._s(e.item.date))]),a("td",{staticClass:"text-xs-left no-print"},[a("v-btn",{attrs:{primary:""},on:{click:function(a){return t.reprint(e.item)}}},[a("v-icon",[t._v("local_printshop")]),t._v("Print receipt")],1)],1)])]}}],null,!1,3999192520)}):t._e()],1)],1)],1)],1),a("v-dialog",{attrs:{"hide-overlay":"",persistent:"",width:"300"},model:{value:t.loadingDialog,callback:function(e){t.loadingDialog=e},expression:"loadingDialog"}},[a("v-card",{attrs:{color:"primary",dark:""}},[a("v-card-text",[t._v("\n        Processing... pls wait.\n        "),a("v-progress-linear",{staticClass:"mb-0",attrs:{indeterminate:"",color:"white"}})],1)],1)],1)],1)},ma=[],fa=window.require("electron"),ha=fa.remote,ga=(ha.BrowserWindow,a("07e8"),window.require("electron").ipcRenderer),ba={data:function(){return{headers:[{text:"SN",align:"left",sortable:!1,value:"index"},{text:"Code",align:"left",sortable:!1,value:"code"},{text:"No of items",align:"left",sortable:!0,value:"no_of_items"},{text:"Request By",value:"request_by",sortable:!1,align:"left"},{text:"Date",value:"date",sortable:!0,align:"left"},{text:"",value:"action",sortable:!1,align:"left"}],filterForm:!1,list:[],date:(new Date).toISOString().substr(0,10),parameters:{from:"",to:"",code:"",collector:"",user:[]},modalFrom:!1,modalTo:!1,loadingDialog:!1,viewReceipt:!1,me:[],numOfRec:0}},computed:Object(x["a"])({},Object(j["c"])(["outlet","service","drugs","domain","cart","users","todaySales"]),{getTotalSum:function(){for(var t=0,e=0;e<this.list.length;e++)t+=this.list[e]["total"];return t},getTotalRecord:function(){return this.list.length}}),components:{Receipt:Ht},props:{source:String},methods:Object(x["a"])({},Object(j["b"])(["filterSales","checkStorage","getDomain","saveStorage"]),{description:function(t){for(var e="",a=0;a<t.length;a++)e+=t[a]["name"]+"("+t[a]["code"]+")="+t[a]["amount"]+";";return e},showFilterForm:function(){this.filterForm?this.filterForm=!1:this.filterForm=!0},filter:function(){""!=parameters.from&&""!=parameters.to&&(this.list=this.cart.find(function(t){return t.date>=parameters.from&&t<=parameters.to})),""!=parameters.from&&""==parameters.to&&(this.list=this.cart.find(function(t){return t.date===parameters.from})),""==parameters.from&&""!=parameters.to&&(this.list=this.cart.find(function(t){return t.date===parameters.to})),""==parameters.from&&""==parameters.to&&(this.list=this.cart),""!=parameters.code&&(this.list=this.cart.find(function(t){return t.code===parameters.code||c.customer.file===parameters.code})),this.loadReport()},printReceipt:function(){for(var t="",e=0,a=Object(qt["a"])(document.querySelectorAll('link[rel="stylesheet"], style'));e<a.length;e++){var s=a[e];t+=s.outerHTML}var r=this.jQuery("#print").html();"<!DOCTYPE html>\n                <html>\n                <head>\n                    ".concat(t,"\n                </head>\n                <body>\n                    ").concat(r,"\n                </body>\n                </html>");ga.send("readyToPrint")},reprint:function(t){D.set("cart",t),this.viewReceipt=!0},closeReceipt:function(t){D.remove("cart"),this.viewReceipt=!1},loadToady:function(){var t=new Date,e=String(t.getDate()).padStart(2,"0"),a=String(t.getMonth()+1).padStart(2,"0"),s=t.getFullYear();t=s+"-"+a+"-"+e,this.parameters={from:t,to:t},this.loadReport()},loadReport:function(){var t=this;this.loadingDialog=!0,this.parameters["outlet"]=this.outlet,this.parameters["user"]=D.get("user"),w.a.post(this.domain+"/requision",this.parameters).then(function(e){e.data.status>0&&(e.data.response.report.length>0?t.list=e.data.response.report:t.list=[]),t.loadingDialog=!1}).catch(function(e){console.log(e),t.loadingDialog=!1})}}),mounted:function(){this.checkStorage(),this.list=this.todaySales,this.me=D.get("user")}},ya=ba,xa=(a("4fca"),Object(d["a"])(ya,va,ma,!1,null,null,null)),_a=xa.exports;I()(xa,{VApp:W["a"],VBtn:H["a"],VCard:ht["a"],VCardText:gt["b"],VDataTable:Kt["a"],VDatePicker:Gt["a"],VDialog:yt["a"],VDivider:K["a"],VFlex:R["a"],VIcon:G["a"],VLayout:M["a"],VMenu:he["a"],VProgressLinear:_t["a"],VSelect:Jt["a"],VTextField:wt["a"]}),s["a"].use(v["a"]);var wa=new v["a"]({base:"",routes:[{path:"/setup",name:"setup",component:ne},{path:"/app-setup",name:"appSetup",component:Ze},{path:"/",name:"login",component:kt,meta:{middleware:f}},{path:"/login",name:"logins",component:kt,meta:{middleware:f}},{path:"/app",name:"app",component:ct,meta:{middleware:m},redirect:{name:"home"},children:[{path:"/home",name:"home",component:Xt},{path:"/sales",name:"sales",component:ra},{path:"/billing",name:"Billing",component:Ie},{path:"/billing-list",name:"BillingItem",component:ze},{path:"/receipt",name:"receipt",component:Ht},{path:"/report",name:"report",component:be},{path:"/price-list",name:"price_list",component:Ve},{path:"/user-profile",name:"user_profile",component:pa},{path:"/requisition",name:"requisition",component:_a}]}]}),Ca=(a("386d"),a("795b")),ka=a.n(Ca),Sa=(a("5df3"),a("ac6a"),a("96cf"),a("3b8d")),Da=a("bf12"),Va=a("3f4f"),Pa=function(t){if(!("indexedDB"in window))throw new Error("Browser does not support IndexedDB");return Object(Va["a"])("hosp_rev",1,{upgrade:function(t){t.objectStoreNames.contains("outlet")||t.createObjectStore("outlet").createIndex("outlet","outlet"),t.objectStoreNames.contains("products")||t.createObjectStore("products").createIndex("revenue","revenue"),t.objectStoreNames.contains("paymentMethods")||t.createObjectStore("paymentMethods"),t.objectStoreNames.contains("cart")||t.createObjectStore("cart").createIndex("code","code",{unique:!0}),t.objectStoreNames.contains("users")||t.createObjectStore("users").createIndex("email","email"),t.objectStoreNames.contains("billings")||t.createObjectStore("billings").createIndex("code","code",{unique:!0})}})},ja=function(){var t=Object(Sa["a"])(regeneratorRuntime.mark(function t(e){var a,s,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Pa();case 3:return a=t.sent,s=a.transaction(e,"readonly"),r=s.objectStore(e),t.abrupt("return",r.get(e));case 9:return t.prev=9,t.t0=t["catch"](0),t.abrupt("return",t.t0);case 12:case"end":return t.stop()}},t,null,[[0,9]])}));return function(e){return t.apply(this,arguments)}}(),Ta=function(){var t=Object(Sa["a"])(regeneratorRuntime.mark(function t(e,a){var s,r,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Pa();case 3:return s=t.sent,r=s.transaction(e,"readwrite"),i=r.objectStore(e),i.put(a,e),t.abrupt("return",r.complete);case 10:return t.prev=10,t.t0=t["catch"](0),t.abrupt("return",t.t0);case 13:case"end":return t.stop()}},t,null,[[0,10]])}));return function(e,a){return t.apply(this,arguments)}}(),Oa=function(){var t=Object(Sa["a"])(regeneratorRuntime.mark(function t(e,a,s,r){var i,n,o,l,c,d,u,p,v,m,f;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Pa();case 3:i=t.sent,n=i.transaction(e,"readwrite"),o=n.store.index("code"),l=!0,c=!1,t.prev=8,u=Object(Da["a"])(o.iterate(s));case 10:return t.next=12,u.next();case 12:return p=t.sent,l=p.done,t.next=16,p.value;case 16:if(v=t.sent,l){t.next=26;break}m=v,console(m.value),f=Object(x["a"])({},m.value),f=r,m.update(f);case 23:l=!0,t.next=10;break;case 26:t.next=32;break;case 28:t.prev=28,t.t0=t["catch"](8),c=!0,d=t.t0;case 32:if(t.prev=32,t.prev=33,l||null==u.return){t.next=37;break}return t.next=37,u.return();case 37:if(t.prev=37,!c){t.next=40;break}throw d;case 40:return t.finish(37);case 41:return t.finish(32);case 42:return t.next=44,n.done;case 44:t.next=49;break;case 46:return t.prev=46,t.t1=t["catch"](0),t.abrupt("return",t.t1);case 49:case"end":return t.stop()}},t,null,[[0,46],[8,28,32,42],[33,,37,41]])}));return function(e,a,s,r){return t.apply(this,arguments)}}(),Aa={checkStorage:ja,saveToStorage:Ta,updateSorage:Oa};s["a"].use(j["a"]);var $a=new j["a"].Store({state:{outlet:[],products:[],cart:[],users:[],todaySales:[],paymentMethods:[],unsyncCart:[],unsyncUsers:[],billings:[],bills:[],domain:"",transCode:"",today:"",dataFields:["outlet","products","paymentMethods","cart","users","billings"]},mutations:{setState:function(t,e){var a=e.field,r=e.data;s["a"].set(t,a,r)},setDomain:function(t){t.domain=t.outlet.domain&&""!=t.outlet.domain?t.outlet.domain:S},setCode:function(t){t.outlet.paypoint.toString(),(new Date).getTime().toString(8);t.transCode=t.outlet.paypoint.toString()+P()},setToday:function(t){var e=new Date,a=String(e.getFullYear()).padStart(2,"0")+"-"+String(e.getMonth()+1).padStart(2,"0")+"-"+String(e.getDate()).padStart(2,"0"),s=String(e.getHours()).padStart(2,"0")+":"+String(e.getMinutes()).padStart(2,"0")+":"+String(e.getSeconds()).padStart(2,"0");e=a+" "+s,t.today=e},addOutlet:function(t,e){t.outlet=e},addBilling:function(t,e){t.billings=e},addProduct:function(t,e){t.products=e},addpaymentMethods:function(t,e){t.paymentMethods=e},addCart:function(t,e){t.cart.push(e)},setCart:function(t,e){t.cart=e},addUsers:function(t,e,a){!0===a?t.users.push(e):t.users=e},deleteCart:function(t,e){var a=e.cartIndex;t.cart.splice(a,1)},getBills:function(t){var e=t.billings,a=[],s=!0,r=!1,i=void 0;try{for(var n,o=vt()(e);!(s=(n=o.next()).done);s=!0){var l=n.value;l["total"]=Number(l["total"]);var c=a.findIndex(function(t){return t["customer"]["file"]===l["customer"]["file"]});c<0?a.push(l):a.forEach(function(t){t["customer"]["file"]===l["customer"]["file"]&&(t["total"]+=l["total"])})}}catch(d){r=!0,i=d}finally{try{s||null==o.return||o.return()}finally{if(r)throw i}}t.bills=a},todaySales:function(t){var e=new Date,a=String(e.getDate()).padStart(2,"0"),s=String(e.getMonth()+1).padStart(2,"0"),r=e.getFullYear();e=r+"-"+s+"-"+a,t.todaySales=[];for(var i=D.get("user"),n=0;n<t.cart.length;n++)t.cart[n]["date"]==e&&t.cart[n]["user"]["id"]==i["id"]&&t.todaySales.push(t.cart[n])},unsyncCart:function(t,e){var a=t.cart.filter(function(t){return t.sync===e});t.unsyncCart=a},unsyncUsers:function(t){var e=t.users.find(function(t){return!0===t.sync});t.unsyncUsers.push(e)},deleteUser:function(t,e){var a=e.userIndex;t.users.splice(a,1)},deleteBilling:function(t,e){var a=e.billingIndex;if(a){for(var s=t.billings,r=0;r<s.length;r++)s[r]["card_no"]===a["card_no"]&&s.splice(r,1);t.billings=s}}},actions:{addOutlet:function(t,e){var a=t.commit,s=t.dispatch;a("addOutlet",e),s("saveStorage")},addProduct:function(t,e){var a=t.commit,s=t.dispatch;a("addProduct",e),s("saveStorage")},addBilling:function(t,e){var a=t.commit,s=t.dispatch;a("addBilling",e),s("saveStorage")},deleteBilling:function(t,e){var a=t.commit,s=t.dispatch;a("deleteBilling",e),s("saveStorage")},addpaymentMethods:function(t,e){var a=t.commit,s=t.dispatch;a("addpaymentMethods",e),s("saveStorage")},addCart:function(t,e){var a=t.commit,s=t.dispatch;a("addCart",e),s("saveStorage")},setCart:function(t,e){var a=t.commit,s=t.dispatch;a("setCart",e),s("saveStorage")},addUsers:function(t,e,a){var s=t.commit,r=t.dispatch;s("addUsers",e,a),r("saveStorage")},getCode:function(t){var e=t.commit;t.dispatch;e("setCode")},getToday:function(t){var e=t.commit;t.dispatch;e("setToday")},getDomain:function(t){var e=t.commit;t.dispatch;e("setDomain")},padBills:function(t){var e=t.commit;e("getBills")},filterSales:function(t){var e=t.commit;t.dispatch;e("todaySales")},unSyncCart:function(t,e){var a=t.commit;t.dispatch;a("unsyncCart",e)},unsyncUsers:function(t,e){var a=t.commit,s=t.dispatch;a("unsyncUsers",e),s("saveStorage")},updateCarts:function(t,e){t.state;var a=t.dispatch;e&&a("updateStorage",{code:"code",search:e.code,value:e})},updateBilling:function(t,e){t.state;var a=t.dispatch;e&&a("updateStorage",e)},deleteCart:function(t,e){var a=t.commit,s=t.dispatch;a("deleteCart",e),s("saveStorage")},deleteUser:function(t,e){var a=t.commit,s=t.dispatch;a("deleteUser",e),s("saveStorage")},checkStorage:function(){var t=Object(Sa["a"])(regeneratorRuntime.mark(function t(e){var a,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:a=e.state,s=e.commit,a.dataFields.forEach(function(){var t=Object(Sa["a"])(regeneratorRuntime.mark(function t(e){var a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Aa.checkStorage(e);case 3:a=t.sent,void 0===a&&(a=[]),null===a&&(a=[]),s("setState",{field:e,data:a}),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),s("setState",{field:e,data:[]});case 12:case"end":return t.stop()}},t,null,[[0,9]])}));return function(e){return t.apply(this,arguments)}}());case 2:case"end":return t.stop()}},t)}));function e(e){return t.apply(this,arguments)}return e}(),saveStorage:function(){var t=Object(Sa["a"])(regeneratorRuntime.mark(function t(e){var a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=e.state,t.prev=1,t.next=4,ka.a.all(a.dataFields.map(function(t){return Aa.saveToStorage(t,a[t])}));case 4:t.next=9;break;case 6:return t.prev=6,t.t0=t["catch"](1),t.abrupt("return");case 9:case"end":return t.stop()}},t,null,[[1,6]])}));function e(e){return t.apply(this,arguments)}return e}(),updateStorage:function(){var t=Object(Sa["a"])(regeneratorRuntime.mark(function t(e,a){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e.state,t.prev=1,t.next=4,ka.a.all(Aa.updateSorage(a.store,a.index,a.search,a.value));case 4:t.next=9;break;case 6:return t.prev=6,t.t0=t["catch"](1),t.abrupt("return");case 9:case"end":return t.stop()}},t,null,[[1,6]])}));function e(e,a){return t.apply(this,arguments)}return e}()}}),Ba=a("e6d1"),Fa=a.n(Ba);a("4989"),a("ab8b");s["a"].config.productionTip=!1,s["a"].prototype.jQuery=de.a,s["a"].use(Fa.a),s["a"].filter("truncate",function(t,e){return void 0===t?"":t.substring(0,e)+"..."}),s["a"].filter("toDecimal",function(t){var e=(t/1).toFixed(2).replace(",",".");return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}),s["a"].filter("toTitleCase",function(t){var e=t.toLowerCase();e=e.split(" ");for(var a=0;a<e.length;a++)e[a]=e[a].charAt(0).toUpperCase()+e[a].slice(1);return e.join(" ")}),new s["a"]({router:wa,store:$a,render:function(t){return t(p)}}).$mount("#app")},6:function(t,e){},"819d":function(t,e,a){},"83f3":function(t,e,a){"use strict";var s=a("e527"),r=a.n(s);r.a},8499:function(t,e,a){},"8b71":function(t,e,a){"use strict";var s=a("e55e"),r=a.n(s);r.a},"8cbf":function(t,e,a){},a764:function(t,e,a){},bdbf:function(t,e,a){"use strict";var s=a("819d"),r=a.n(s);r.a},c121:function(t,e,a){t.exports=a.p+"img/user.134ea31a.png"},c80f:function(t,e,a){"use strict";var s=a("4828"),r=a.n(s);r.a},c891:function(t,e,a){},d80e:function(t,e,a){},dfa9:function(t,e,a){"use strict";var s=a("c891"),r=a.n(s);r.a},dfd9:function(t,e,a){},e527:function(t,e,a){},e55e:function(t,e,a){},e6aa:function(t,e,a){"use strict";var s=a("ec8f"),r=a.n(s);r.a},ec8f:function(t,e,a){},f0f9:function(t,e,a){"use strict";var s=a("4cf2"),r=a.n(s);r.a},fac2:function(t,e,a){}});
//# sourceMappingURL=app.3c40eff9.js.map